(function(){var require=function(a,b){var c=require.resolve(a,b||"/"),d=require.modules[c];if(!d)throw new Error("Failed to resolve module "+a+", tried "+c);var e=require.cache[c],f=e?e.exports:d();return f};require.paths=[],require.modules={},require.cache={},require.extensions=[".js",".coffee",".json"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(a,b){function g(a){a=c.normalize(a);if(require.modules[a])return a;for(var b=0;b<require.extensions.length;b++){var d=require.extensions[b];if(require.modules[a+d])return a+d}}function h(a){a=a.replace(/\/+$/,"");var b=c.normalize(a+"/package.json");if(require.modules[b]){var d=require.modules[b](),e=d.browserify;if(typeof e=="object"&&e.main){var f=g(c.resolve(a,e.main));if(f)return f}else if(typeof e=="string"){var f=g(c.resolve(a,e));if(f)return f}else if(d.main){var f=g(c.resolve(a,d.main));if(f)return f}}return g(a+"/index")}function i(a,b){var c=j(b);for(var d=0;d<c.length;d++){var e=c[d],f=g(e+"/"+a);if(f)return f;var i=h(e+"/"+a);if(i)return i}var f=g(a);if(f)return f}function j(a){var b;a==="/"?b=[""]:b=c.normalize(a).split("/");var d=[];for(var e=b.length-1;e>=0;e--){if(b[e]==="node_modules")continue;var f=b.slice(0,e+1).join("/")+"/node_modules";d.push(f)}return d}b||(b="/");if(require._core[a])return a;var c=require.modules.path();b=c.resolve("/",b);var d=b||"/";if(a.match(/^(?:\.\.?\/|\/)/)){var e=g(c.resolve(d,a))||h(c.resolve(d,a));if(e)return e}var f=i(a,d);if(f)return f;throw new Error("Cannot find module '"+a+"'")}}(),require.alias=function(a,b){var c=require.modules.path(),d=null;try{d=require.resolve(a+"/package.json","/")}catch(e){d=require.resolve(a,"/")}var f=c.dirname(d),g=(Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b})(require.modules);for(var h=0;h<g.length;h++){var i=g[h];if(i.slice(0,f.length+1)===f+"/"){var j=i.slice(f.length);require.modules[b+j]=require.modules[f+j]}else i===f&&(require.modules[b]=require.modules[f])}},function(){var a={},b=typeof window!="undefined"?window:{},c=!1;require.define=function(d,e){!c&&require.modules.__browserify_process&&(a=require.modules.__browserify_process(),c=!0);var f=require._core[d]?"":require.modules.path().dirname(d),g=function(a){var b=require(a,f),c=require.cache[require.resolve(a,f)];return c&&c.parent===null&&(c.parent=h),b};g.resolve=function(a){return require.resolve(a,f)},g.modules=require.modules,g.define=require.define,g.cache=require.cache;var h={id:d,filename:d,exports:{},loaded:!1,parent:null};require.modules[d]=function(){return require.cache[d]=h,e.call(h.exports,g,h,h.exports,f,d,a,b),h.loaded=!0,h.exports}}}(),require.define("path",function(a,b,c,d,e,f,g){function h(a,b){var c=[];for(var d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}function i(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var j=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;c.resolve=function(){var a="",b=!1;for(var c=arguments.length;c>=-1&&!b;c--){var d=c>=0?arguments[c]:f.cwd();if(typeof d!="string"||!d)continue;a=d+"/"+a,b=d.charAt(0)==="/"}return a=i(h(a.split("/"),function(a){return!!a}),!b).join("/"),(b?"/":"")+a||"."},c.normalize=function(a){var b=a.charAt(0)==="/",c=a.slice(-1)==="/";return a=i(h(a.split("/"),function(a){return!!a}),!b).join("/"),!a&&!b&&(a="."),a&&c&&(a+="/"),(b?"/":"")+a},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(h(a,function(a,b){return a&&typeof a=="string"}).join("/"))},c.dirname=function(a){var b=j.exec(a)[1]||"",c=!1;return b?b.length===1||c&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},c.basename=function(a,b){var c=j.exec(a)[2]||"";return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return j.exec(a)[3]||""},c.relative=function(a,b){function d(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g;for(var i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}var j=[];for(var i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")}}),require.define("__browserify_process",function(a,b,c,d,e,f,g){var f=b.exports={};f.nextTick=function(){var a=typeof window!="undefined"&&window.setImmediate,b=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&a.data==="browserify-tick"){a.stopPropagation();if(c.length>0){var b=c.shift();b()}}},!0),function(b){c.push(b),window.postMessage("browserify-tick","*")}}return function(b){setTimeout(b,0)}}(),f.title="browser",f.browser=!0,f.env={},f.argv=[],f.binding=function(b){if(b==="evals")return a("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var b="/",c;f.cwd=function(){return b},f.chdir=function(d){c||(c=a("path")),b=c.resolve(d,b)}}()}),require.define("/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js"}}),require.define("/index.js",function(a,b,c,d,e,f,g){function n(a,b){var c="";j.get(a,function(a){a.on("data",function(a){c+=a}).on("end",function(a){b(c)})})}function o(a){function c(){var a=k(r.getValue(),{require:function(a){return l(a,c)}}),b="";for(var d=0;d<a.length;d++)a[d]===undefined||a[d]instanceof SyntaxError?b+="\n":b+=h(a[d])+"\n";s.setValue(b)}function d(a){var b=document.getElementById("gist-button");b.style.display="inline",b.href="http://gist.github.com/"+a}function e(a){var b=document.getElementById("iframe-button");b.style.display="inline",b.href=window.location}function f(a){function b(a){if(a.match(/readme/gi))return!1;var b=a.split("."),c=b[b.length-1];return b.length>1&&c!=="js"&&c!=="txt"?!1:!0}a.indexOf(".js")!==-1?n({path:"/local/"+a},function(a){return g(a)}):n({path:"/gists/"+a,host:"api.github.com",port:443,scheme:"https"},function(c){d(a);var e=i.parse(c);for(var f in e.files)if(b(f))return g(e.files[f].content)})}function g(a){return r.setValue(a),b}var b={},j=a.appendChild(document.createElement("div")),o=a.appendChild(document.createElement("right")),p=j.appendChild(document.createElement("textarea")),q=o.appendChild(document.createElement("textarea"));j.className="left",o.className="right",p.className="code",q.className="results",window!==window.top&&e();var r=m.fromTextArea(p,{mode:"javascript",matchBrackets:!0,tabSize:2,autofocus:window===window.top,smartIndent:!0});r.on("change",c);var s=m.fromTextArea(q,{mode:"javascript",tabSize:2,readOnly:"nocursor"});return r.setOption("theme","mistakes"),s.setOption("theme","mistakes"),b.gist=f,b.content=g,b}var h=a("restring"),i=a("jsonify"),j=a("http"),k=a("incremental-eval"),l=a("live-require"),m=a("codemirror");a("./js/javascript")(m),b.exports=o}),require.define("/node_modules/restring/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js"}}),require.define("/node_modules/restring/index.js",function(a,b,c,d,e,f,g){var h=function(){function b(b){function c(b){return b.toFixed(a).replace(/0*$/,"").replace(/\.$/,"")}function d(a){return a===null||a===undefined?"":a.constructor.name?" // "+a.constructor.name:""}switch(typeof b){case"function":return"[function"+(b.name?" "+b.name:"")+"]";case"number":return c(b)+d(b);default:try{return JSON.stringify(b)+d(b)}catch(e){return""}}}var a=4;return b.decimals=function(b){return arguments.length?(a=b,this):a},b}();typeof b!="undefined"&&(b.exports=h)}),require.define("/node_modules/jsonify/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js"}}),require.define("/node_modules/jsonify/index.js",function(a,b,c,d,e,f,g){c.parse=a("./lib/parse"),c.stringify=a("./lib/stringify")}),require.define("/node_modules/jsonify/lib/parse.js",function(a,b,c,d,e,f,g){var h,i,j={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},k,l=function(a){throw{name:"SyntaxError",message:a,at:h,text:k}},m=function(a){return a&&a!==i&&l("Expected '"+a+"' instead of '"+i+"'"),i=k.charAt(h),h+=1,i},n=function(){var a,b="";i==="-"&&(b="-",m("-"));while(i>="0"&&i<="9")b+=i,m();if(i==="."){b+=".";while(m()&&i>="0"&&i<="9")b+=i}if(i==="e"||i==="E"){b+=i,m();if(i==="-"||i==="+")b+=i,m();while(i>="0"&&i<="9")b+=i,m()}a=+b;if(!!isFinite(a))return a;l("Bad number")},o=function(){var a,b,c="",d;if(i==='"')while(m()){if(i==='"')return m(),c;if(i==="\\"){m();if(i==="u"){d=0;for(b=0;b<4;b+=1){a=parseInt(m(),16);if(!isFinite(a))break;d=d*16+a}c+=String.fromCharCode(d)}else{if(typeof j[i]!="string")break;c+=j[i]}}else c+=i}l("Bad string")},p=function(){while(i&&i<=" ")m()},q=function(){switch(i){case"t":return m("t"),m("r"),m("u"),m("e"),!0;case"f":return m("f"),m("a"),m("l"),m("s"),m("e"),!1;case"n":return m("n"),m("u"),m("l"),m("l"),null}l("Unexpected '"+i+"'")},r,s=function(){var a=[];if(i==="["){m("["),p();if(i==="]")return m("]"),a;while(i){a.push(r()),p();if(i==="]")return m("]"),a;m(","),p()}}l("Bad array")},t=function(){var a,b={};if(i==="{"){m("{"),p();if(i==="}")return m("}"),b;while(i){a=o(),p(),m(":"),Object.hasOwnProperty.call(b,a)&&l('Duplicate key "'+a+'"'),b[a]=r(),p();if(i==="}")return m("}"),b;m(","),p()}}l("Bad object")};r=function(){p();switch(i){case"{":return t();case"[":return s();case'"':return o();case"-":return n();default:return i>="0"&&i<="9"?n():q()}},b.exports=function(a,b){var c;return k=a,h=0,i=" ",c=r(),p(),i&&l("Syntax error"),typeof b=="function"?function d(a,c){var e,f,g=a[c];if(g&&typeof g=="object")for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),f!==undefined?g[e]=f:delete g[e]);return b.call(a,c,g)}({"":c},""):c}}),require.define("/node_modules/jsonify/lib/stringify.js",function(a,b,c,d,e,f,g){function n(a){return i.lastIndex=0,i.test(a)?'"'+a.replace(i,function(a){var b=l[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function o(a,b){var c,d,e,f,g=j,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof m=="function"&&(i=m.call(b,a,i));switch(typeof i){case"string":return n(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";j+=k,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=o(c,i)||"null";return e=h.length===0?"[]":j?"[\n"+j+h.join(",\n"+j)+"\n"+g+"]":"["+h.join(",")+"]",j=g,e}if(m&&typeof m=="object"){f=m.length;for(c=0;c<f;c+=1)d=m[c],typeof d=="string"&&(e=o(d,i),e&&h.push(n(d)+(j?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=o(d,i),e&&h.push(n(d)+(j?": ":":")+e));return e=h.length===0?"{}":j?"{\n"+j+h.join(",\n"+j)+"\n"+g+"}":"{"+h.join(",")+"}",j=g,e}}var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,k,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;b.exports=function(a,b,c){var d;j="",k="";if(typeof c=="number")for(d=0;d<c;d+=1)k+=" ";else typeof c=="string"&&(k=c);m=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return o("",{"":a});throw new Error("JSON.stringify")}}),require.define("http",function(a,b,c,d,e,f,g){b.exports=a("http-browserify")}),require.define("/node_modules/http-browserify/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js",browserify:"index.js"}}),require.define("/node_modules/http-browserify/index.js",function(a,b,c,d,e,f,g){var h=b.exports,i=a("events").EventEmitter,j=a("./lib/request");h.request=function(a,b){a||(a={}),a.host||(a.host=window.location.host.split(":")[0]),a.port||(a.port=window.location.port);var c=new j(new k,a);return b&&c.on("response",b),c},h.get=function(a,b){a.method="GET";var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4;var k=function(){if(typeof window=="undefined")throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){var a=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var b=0;b<a.length;b++)try{var c=new window.ActiveXObject(a[b]);return function(){if(c){var d=c;return c=null,d}return new window.ActiveXObject(a[b])}}catch(d){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}()}),require.define("events",function(a,b,c,d,e,f,g){function j(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}f.EventEmitter||(f.EventEmitter=function(){});var h=c.EventEmitter=f.EventEmitter,i=typeof Array.isArray=="function"?Array.isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},k=10;h.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},h.prototype.emit=function(a){if(a==="error")if(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if(typeof b=="function"){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(i(b)){var c=Array.prototype.slice.call(arguments,1),d=b.slice();for(var e=0,f=d.length;e<f;e++)d[e].apply(this,c);return!0}return!1},h.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",a,b);if(!this._events[a])this._events[a]=b;else if(i(this._events[a])){if(!this._events[a].warned){var c;this._events.maxListeners!==undefined?c=this._events.maxListeners:c=k,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},h.prototype.on=h.prototype.addListener,h.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},h.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var c=this._events[a];if(i(c)){var d=j(c,b);if(d<0)return this;c.splice(d,1),c.length==0&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},h.prototype.removeAllListeners=function(a){return a&&this._events&&this._events[a]&&(this._events[a]=null),this},h.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),i(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}),require.define("/node_modules/http-browserify/lib/request.js",function(a,b,c,d,e,f,g){var h=a("stream"),i=a("./response"),j=a("concat-stream"),k=a("buffer"),l=b.exports=function(a,b){var c=this;c.writable=!0,c.xhr=a,c.body=j();var d=b.host+":"+b.port+(b.path||"/");a.open(b.method||"GET",(b.scheme||"http")+"://"+d,!0);if(b.headers){var e=m(b.headers);for(var f=0;f<e.length;f++){var g=e[f];if(!c.isSafeRequestHeader(g))return;var h=b.headers[g];if(n(h))for(var l=0;l<h.length;l++)a.setRequestHeader(g,h[l]);else a.setRequestHeader(g,h)}}b.auth&&this.setHeader("Authorization","Basic "+(new k(b.auth)).toString("base64"));var o=new i;o.on("close",function(){c.emit("close")}),o.on("ready",function(){c.emit("response",o)}),a.onreadystatechange=function(){o.handle(a)}};l.prototype=new h,l.prototype.setHeader=function(a,b){if(n(b))for(var c=0;c<b.length;c++)this.xhr.setRequestHeader(a,b[c]);else this.xhr.setRequestHeader(a,b)},l.prototype.write=function(a){this.body.write(a)},l.prototype.destroy=function(a){this.xhr.abort(),this.emit("close")},l.prototype.end=function(a){a!==undefined&&this.body.write(a),this.body.end(),this.xhr.send(this.body.getBody())},l.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],l.prototype.isSafeRequestHeader=function(a){return a?o(l.unsafeHeaders,a.toLowerCase())===-1:!1};var m=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},n=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},o=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}}),require.define("stream",function(a,b,c,d,e,f,g){function j(){h.EventEmitter.call(this)}var h=a("events"),i=a("util");i.inherits(j,h.EventEmitter),b.exports=j,j.Stream=j,j.prototype.pipe=function(a,b){function d(b){a.writable&&!1===a.write(b)&&c.pause&&c.pause()}function e(){c.readable&&c.resume&&c.resume()}function g(){if(f)return;f=!0,a._pipeCount--,j();if(a._pipeCount>0)return;a.end()}function h(){if(f)return;f=!0,a._pipeCount--,j();if(a._pipeCount>0)return;a.destroy()}function i(a){j();if(this.listeners("error").length===0)throw a}function j(){c.removeListener("data",d),a.removeListener("drain",e),c.removeListener("end",g),c.removeListener("close",h),c.removeListener("error",i),a.removeListener("error",i),c.removeListener("end",j),c.removeListener("close",j),a.removeListener("end",j),a.removeListener("close",j)}var c=this;c.on("data",d),a.on("drain",e),!a._isStdio&&(!b||b.end!==!1)&&(a._pipeCount=a._pipeCount||0,a._pipeCount++,c.on("end",g),c.on("close",h));var f=!1;return c.on("error",i),a.on("error",i),c.on("end",j),c.on("close",j),a.on("end",j),a.on("close",j),a.emit("pipe",c),a}}),require.define("util",function(a,b,c,d,e,f,g){function i(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&i(a.__proto__)}function j(a){return a instanceof RegExp||typeof a=="object"&&Object.prototype.toString.call(a)==="[object RegExp]"}function k(a){if(a instanceof Date)return!0;if(typeof a!="object")return!1;var b=Date.prototype&&p(Date.prototype),c=a.__proto__&&p(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}function l(a){return a<10?"0"+a.toString(10):a.toString(10)}function n(){var a=new Date,b=[l(a.getHours()),l(a.getMinutes()),l(a.getSeconds())].join(":");return[a.getDate(),m[a.getMonth()],b].join(" ")}var h=a("events");c.isArray=i,c.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]"},c.isRegExp=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},c.print=function(){},c.puts=function(){},c.debug=function(){},c.inspect=function(a,b,d,e){function h(a,d){if(a&&typeof a.inspect=="function"&&a!==c&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(d);switch(typeof a){case"undefined":return g("undefined","undefined");case"string":var e="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g(e,"string");case"number":return g(""+a,"number");case"boolean":return g(""+a,"boolean")}if(a===null)return g("null","null");var l=o(a),m=b?p(a):l;if(typeof a=="function"&&m.length===0){if(j(a))return g(""+a,"regexp");var n=a.name?": "+a.name:"";return g("[Function"+n+"]","special")}if(k(a)&&m.length===0)return g(a.toUTCString(),"date");var q,r,s;i(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]);if(typeof a=="function"){var t=a.name?": "+a.name:"";q=j(a)?" "+a:" [Function"+t+"]"}else q="";k(a)&&(q=" "+a.toUTCString());if(m.length===0)return s[0]+q+s[1];if(d<0)return j(a)?g(""+a,"regexp"):g("[Object]","special");f.push(a);var u=m.map(function(b){var c,e;a.__lookupGetter__&&(a.__lookupGetter__(b)?a.__lookupSetter__(b)?e=g("[Getter/Setter]","special"):e=g("[Getter]","special"):a.__lookupSetter__(b)&&(e=g("[Setter]","special"))),l.indexOf(b)<0&&(c="["+b+"]"),e||(f.indexOf(a[b])<0?(d===null?e=h(a[b]):e=h(a[b],d-1),e.indexOf("\n")>-1&&(i(a)?e=e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):e="\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=g("[Circular]","special"));if(typeof c=="undefined"){if(r==="Array"&&b.match(/^\d+$/))return e;c=JSON.stringify(""+b),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=g(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=g(c,"string"))}return c+": "+e});f.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return w>50?u=s[0]+(q===""?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:u=s[0]+q+" "+u.join(", ")+" "+s[1],u}var f=[],g=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return e||(g=function(a,b){return a}),h(a,typeof d=="undefined"?2:d)};var m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(a){},c.pump=null;var o=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},p=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},q=Object.create||function(a,b){var c;if(a===null)c={__proto__:null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return typeof b!="undefined"&&Object.defineProperties&&Object.defineProperties(c,b),c};c.inherits=function(a,b){a.super_=b,a.prototype=q(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var r=/%[sdj%]/g;c.format=function(a){if(typeof a!="string"){var b=[];for(var d=0;d<arguments.length;d++)b.push(c.inspect(arguments[d]));return b.join(" ")}var d=1,e=arguments,f=e.length,g=String(a).replace(r,function(a){if(a==="%")return"%";if(d>=f)return a;switch(a){case"%s":return String(e[d++]);case"%d":return Number(e[d++]);case"%j":return JSON.stringify(e[d++]);default:return a}});for(var h=e[d];d<f;h=e[++d])h===null||typeof h!="object"?g+=" "+h:g+=" "+c.inspect(h);return g}}),require.define("/node_modules/http-browserify/lib/response.js",function(a,b,c,d,e,f,g){function k(a){var b=a.getAllResponseHeaders().split(/\r?\n/),c={};for(var d=0;d<b.length;d++){var e=b[d];if(e==="")continue;var f=e.match(/^([^:]+):\s*(.*)/);if(f){var g=f[1].toLowerCase(),h=f[2];c[g]!==undefined?l(c[g])?c[g].push(h):c[g]=[c[g],h]:c[g]=h}else c[e]=!0}return c}var h=a("stream"),i=b.exports=function(a){this.offset=0,this.readable=!0};i.prototype=new h;var j={streaming:!0,status2:!0};i.prototype.getResponse=function(a){var b=String(a.responseType).toLowerCase();return b==="blob"?a.responseBlob||a.response:b==="arraybuffer"?a.response:a.responseText},i.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]},i.prototype.handle=function(a){if(a.readyState===2&&j.status2){try{this.statusCode=a.status,this.headers=k(a)}catch(b){j.status2=!1}j.status2&&this.emit("ready")}else if(j.streaming&&a.readyState===3){try{this.statusCode||(this.statusCode=a.status,this.headers=k(a),this.emit("ready"))}catch(b){}try{this._emitData(a)}catch(b){j.streaming=!1}}else a.readyState===4&&(this.statusCode||(this.statusCode=a.status,this.emit("ready")),this._emitData(a),a.error?this.emit("error",this.getResponse(a)):this.emit("end"),this.emit("close"))},i.prototype._emitData=function(a){var b=this.getResponse(a);if(b.toString().match(/ArrayBuffer/)){this.emit("data",new Uint8Array(b,this.offset)),this.offset=b.byteLength;return}b.length>this.offset&&(this.emit("data",b.slice(this.offset)),this.offset=b.length)};var l=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}}),require.define("/node_modules/http-browserify/node_modules/concat-stream/package.json",function(a,b,c,d,e,f,g){b.exports={}}),require.define("/node_modules/http-browserify/node_modules/concat-stream/index.js",function(a,b,c,d,e,f,g){function j(a){h.Stream.call(this),this.writable=!0,a&&(this.cb=a),this.body=[],this.cb&&this.on("error",a)}var h=a("stream"),i=a("util");i.inherits(j,h.Stream),j.prototype.write=function(a){this.body.push(a)},j.prototype.arrayConcat=function(a){return a.length===0?[]:a.length===1?a[0]:a.reduce(function(a,b){return a.concat(b)})},j.prototype.isArray=function(a){var b=Array.isArray(a),c=a.toString().match(/Array/);return b||c},j.prototype.getBody=function(){if(this.body.length===0)return;return typeof this.body[0]=="string"?this.body.join(""):this.isArray(this.body[0])?this.arrayConcat(this.body):typeof Buffer!="undefined"&&Buffer.isBuffer(this.body[0])?Buffer.concat(this.body):this.body},j.prototype.end=function(){this.cb&&this.cb(!1,this.getBody())},b.exports=function(a){return new j(a)},b.exports.ConcatStream=j}),require.define("buffer",function(a,b,c,d,e,f,g){b.exports=a("buffer-browserify")}),require.define("/node_modules/buffer-browserify/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js",browserify:"index.js"}}),require.define("/node_modules/buffer-browserify/index.js",function(a,b,c,d,e,f,g){function h(a){this.length=a}function j(a){return a<16?"0"+a.toString(16):a.toString(16)}function k(a){var b=[];for(var c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else{var d=encodeURIComponent(a.charAt(c)).substr(1).split("%");for(var e=0;e<d.length;e++)b.push(parseInt(d[e],16))}return b}function l(a){var b=[];for(var c=0;c<a.length;c++)b.push(a.charCodeAt(c)&255);return b}function m(b){return a("base64-js").toByteArray(b)}function n(a,b,c,d){var e,f=0;while(f<d){if(f+c>=b.length||f>=a.length)break;b[f+c]=a[f],f++}return f}function o(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function p(a){return a=~~Math.ceil(+a),a<0?0:a}function q(a,b,c){if(!(this instanceof q))return new q(a,b,c);var d;if(typeof c=="number")this.length=p(b),this.parent=a,this.offset=c;else{switch(d=typeof a){case"number":this.length=p(a);break;case"string":this.length=q.byteLength(a,b);break;case"object":this.length=p(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}this.length>q.poolSize?(this.parent=new h(this.length),this.offset=0):((!s||s.length-s.used<this.length)&&t(),this.parent=s,this.offset=s.used,s.used+=this.length);if(r(a))for(var e=0;e<this.length;e++)this.parent[e+this.offset]=a[e];else d=="string"&&(this.length=this.write(a,0,b))}}function r(a){return Array.isArray(a)||q.isBuffer(a)||a&&typeof a=="object"&&typeof a.length=="number"}function t(){s=new h(q.poolSize),s.used=0}function u(a,b,c,d){var e=0;return d||(i.ok(typeof c=="boolean","missing or invalid endian"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b+1<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b]<<8,e|=a.parent[a.offset+b+1]):(e=a.parent[a.offset+b],e|=a.parent[a.offset+b+1]<<8),e}function v(a,b,c,d){var e=0;return d||(i.ok(typeof c=="boolean","missing or invalid endian"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b+3<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b+1]<<16,e|=a.parent[a.offset+b+2]<<8,e|=a.parent[a.offset+b+3],e+=a.parent[a.offset+b]<<24>>>0):(e=a.parent[a.offset+b+2]<<16,e|=a.parent[a.offset+b+1]<<8,e|=a.parent[a.offset+b],e+=a.parent[a.offset+b+3]<<24>>>0),e}function w(a,b,c,d){var e,f;return d||(i.ok(typeof c=="boolean","missing or invalid endian"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b+1<a.length,"Trying to read beyond buffer length")),f=u(a,b,c,d),e=f&32768,e?(65535-f+1)*-1:f}function x(a,b,c,d){var e,f;return d||(i.ok(typeof c=="boolean","missing or invalid endian"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b+3<a.length,"Trying to read beyond buffer length")),f=v(a,b,c,d),e=f&2147483648,e?(4294967295-f+1)*-1:f}function y(b,c,d,e){return e||(i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c+3<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,23,4)}function z(b,c,d,e){return e||(i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c+7<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,52,8)}function A(a,b){i.ok(typeof a=="number","cannot write a non-number as a number"),i.ok(a>=0,"specified a negative value for writing an unsigned value"),i.ok(a<=b,"value is larger than maximum value for type"),i.ok(Math.floor(a)===a,"value has a fractional component")}function B(a,b,c,d,e){e||(i.ok(b!==undefined&&b!==null,"missing value"),i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c!==undefined&&c!==null,"missing offset"),i.ok(c+1<a.length,"trying to write beyond buffer length"),A(b,65535)),d?(a.parent[a.offset+c]=(b&65280)>>>8,a.parent[a.offset+c+1]=b&255):(a.parent[a.offset+c+1]=(b&65280)>>>8,a.parent[a.offset+c]=b&255)}function C(a,b,c,d,e){e||(i.ok(b!==undefined&&b!==null,"missing value"),i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c!==undefined&&c!==null,"missing offset"),i.ok(c+3<a.length,"trying to write beyond buffer length"),A(b,4294967295)),d?(a.parent[a.offset+c]=b>>>24&255,a.parent[a.offset+c+1]=b>>>16&255,a.parent[a.offset+c+2]=b>>>8&255,a.parent[a.offset+c+3]=b&255):(a.parent[a.offset+c+3]=b>>>24&255,a.parent[a.offset+c+2]=b>>>16&255,a.parent[a.offset+c+1]=b>>>8&255,a.parent[a.offset+c]=b&255)}function D(a,b,c){i.ok(typeof a=="number","cannot write a non-number as a number"),i.ok(a<=b,"value larger than maximum allowed value"),i.ok(a>=c,"value smaller than minimum allowed value"),i.ok(Math.floor(a)===a,"value has a fractional component")}function E(a,b,c){i.ok(typeof a=="number","cannot write a non-number as a number"),i.ok(a<=b,"value larger than maximum allowed value"),i.ok(a>=c,"value smaller than minimum allowed value")}function F(a,b,c,d,e){e||(i.ok(b!==undefined&&b!==null,"missing value"),i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c!==undefined&&c!==null,"missing offset"),i.ok(c+1<a.length,"Trying to write beyond buffer length"),D(b,32767,-32768)),b>=0?B(a,b,c,d,e):B(a,65535+b+1,c,d,e)}function G(a,b,c,d,e){e||(i.ok(b!==undefined&&b!==null,"missing value"),i.ok(typeof d=="boolean","missing or invalid endian"),i.ok(c!==undefined&&c!==null,"missing offset"),i.ok(c+3<a.length,"Trying to write beyond buffer length"),D(b,2147483647,-2147483648)),b>=0?C(a,b,c,d,e):C(a,4294967295+b+1,c,d,e)}function H(b,c,d,e,f){f||(i.ok(c!==undefined&&c!==null,"missing value"),i.ok(typeof e=="boolean","missing or invalid endian"),i.ok(d!==undefined&&d!==null,"missing offset"),i.ok(d+3<b.length,"Trying to write beyond buffer length"),E(c,3.4028234663852886e+38,-3.4028234663852886e+38)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,23,4)}function I(b,c,d,e,f){f||(i.ok(c!==undefined&&c!==null,"missing value"),i.ok(typeof e=="boolean","missing or invalid endian"),i.ok(d!==undefined&&d!==null,"missing offset"),i.ok(d+7<b.length,"Trying to write beyond buffer length"),E(c,1.7976931348623157e+308,-1.7976931348623157e+308)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,52,8)}var i=a("assert");c.INSPECT_MAX_BYTES=50,h.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return k(a).length;case"ascii":return a.length;case"base64":return m(a).length;default:throw new Error("Unknown encoding")}},h.prototype.utf8Write=function(a,b,c){var d,e;return h._charsWritten=n(k(a),this,b,c)},h.prototype.asciiWrite=function(a,b,c){var d,e;return h._charsWritten=n(l(a),this,b,c)},h.prototype.base64Write=function(a,b,c){var d,e;return h._charsWritten=n(m(a),this,b,c)},h.prototype.base64Slice=function(b,c){var d=Array.prototype.slice.apply(this,arguments);return a("base64-js").fromByteArray(d)},h.prototype.utf8Slice=function(){var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;while(d<a.length)a[d]<=127?(b+=o(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+o(c)},h.prototype.asciiSlice=function(){var a=Array.prototype.slice.apply(this,arguments),b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},h.prototype.inspect=
function(){var a=[],b=this.length;for(var d=0;d<b;d++){a[d]=j(this[d]);if(d==c.INSPECT_MAX_BYTES){a[d+1]="...";break}}return"<SlowBuffer "+a.join(" ")+">"},h.prototype.hexSlice=function(a,b){var c=this.length;if(!a||a<0)a=0;if(!b||b<0||b>c)b=c;var d="";for(var e=a;e<b;e++)d+=j(this[e]);return d},h.prototype.toString=function(a,b,c){a=String(a||"utf8").toLowerCase(),b=+b||0,typeof c=="undefined"&&(c=this.length);if(+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},h.prototype.hexWrite=function(a,b,c){b=+b||0;var d=this.length-b;c?(c=+c,c>d&&(c=d)):c=d;var e=a.length;if(e%2)throw new Error("Invalid hex string");c>e/2&&(c=e/2);for(var f=0;f<c;f++){var g=parseInt(a.substr(f*2,2),16);if(isNaN(g))throw new Error("Invalid hex string");this[b+f]=g}return h._charsWritten=f*2,f},h.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=undefined);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase();switch(d){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},h.prototype.slice=function(a,b){b===undefined&&(b=this.length);if(b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new q(this,b-a,+a)},h.prototype.copy=function(a,b,c,d){var e=[];for(var f=c;f<d;f++)i.ok(typeof this[f]!="undefined","copying undefined buffer bytes!"),e.push(this[f]);for(var f=b;f<b+e.length;f++)a[f]=e[f-b]},c.SlowBuffer=h,c.Buffer=q,q.poolSize=8192;var s;q.isBuffer=function(b){return b instanceof q||b instanceof h},q.concat=function(a,b){if(!Array.isArray(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(a.length===0)return new q(0);if(a.length===1)return a[0];if(typeof b!="number"){b=0;for(var c=0;c<a.length;c++){var d=a[c];b+=d.length}}var e=new q(b),f=0;for(var c=0;c<a.length;c++){var d=a[c];d.copy(e,f),f+=d.length}return e},q.prototype.inspect=function(){var b=[],d=this.length;for(var e=0;e<d;e++){b[e]=j(this.parent[e+this.offset]);if(e==c.INSPECT_MAX_BYTES){b[e+1]="...";break}}return"<Buffer "+b.join(" ")+">"},q.prototype.get=function(b){if(b<0||b>=this.length)throw new Error("oob");return this.parent[this.offset+b]},q.prototype.set=function(b,c){if(b<0||b>=this.length)throw new Error("oob");return this.parent[this.offset+b]=c},q.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=undefined);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase();var g;switch(d){case"hex":g=this.parent.hexWrite(a,this.offset+b,c);break;case"utf8":case"utf-8":g=this.parent.utf8Write(a,this.offset+b,c);break;case"ascii":g=this.parent.asciiWrite(a,this.offset+b,c);break;case"binary":g=this.parent.binaryWrite(a,this.offset+b,c);break;case"base64":g=this.parent.base64Write(a,this.offset+b,c);break;case"ucs2":case"ucs-2":g=this.parent.ucs2Write(a,this.offset+b,c);break;default:throw new Error("Unknown encoding")}return q._charsWritten=h._charsWritten,g},q.prototype.toString=function(a,b,c){a=String(a||"utf8").toLowerCase(),typeof b=="undefined"||b<0?b=0:b>this.length&&(b=this.length),typeof c=="undefined"||c>this.length?c=this.length:c<0&&(c=0),b+=this.offset,c+=this.offset;switch(a){case"hex":return this.parent.hexSlice(b,c);case"utf8":case"utf-8":return this.parent.utf8Slice(b,c);case"ascii":return this.parent.asciiSlice(b,c);case"binary":return this.parent.binarySlice(b,c);case"base64":return this.parent.base64Slice(b,c);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},q.byteLength=h.byteLength,q.prototype.fill=function(b,c,d){b||(b=0),c||(c=0),d||(d=this.length),typeof b=="string"&&(b=b.charCodeAt(0));if(typeof b!="number"||isNaN(b))throw new Error("value is not a number");if(d<c)throw new Error("end < start");if(d===c)return 0;if(this.length==0)return 0;if(c<0||c>=this.length)throw new Error("start out of bounds");if(d<0||d>this.length)throw new Error("end out of bounds");return this.parent.fill(b,c+this.offset,d+this.offset)},q.prototype.copy=function(a,b,c,d){var e=this;c||(c=0),d||(d=this.length),b||(b=0);if(d<c)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(a.length==0||e.length==0)return 0;if(b<0||b>=a.length)throw new Error("targetStart out of bounds");if(c<0||c>=e.length)throw new Error("sourceStart out of bounds");if(d<0||d>e.length)throw new Error("sourceEnd out of bounds");return d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c),this.parent.copy(a.parent,b+a.offset,c+this.offset,d+this.offset)},q.prototype.slice=function(a,b){b===undefined&&(b=this.length);if(b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new q(this.parent,b-a,+a+this.offset)},q.prototype.utf8Slice=function(a,b){return this.toString("utf8",a,b)},q.prototype.binarySlice=function(a,b){return this.toString("binary",a,b)},q.prototype.asciiSlice=function(a,b){return this.toString("ascii",a,b)},q.prototype.utf8Write=function(a,b){return this.write(a,b,"utf8")},q.prototype.binaryWrite=function(a,b){return this.write(a,b,"binary")},q.prototype.asciiWrite=function(a,b){return this.write(a,b,"ascii")},q.prototype.readUInt8=function(a,b){var c=this;return b||(i.ok(a!==undefined&&a!==null,"missing offset"),i.ok(a<c.length,"Trying to read beyond buffer length")),c.parent[c.offset+a]},q.prototype.readUInt16LE=function(a,b){return u(this,a,!1,b)},q.prototype.readUInt16BE=function(a,b){return u(this,a,!0,b)},q.prototype.readUInt32LE=function(a,b){return v(this,a,!1,b)},q.prototype.readUInt32BE=function(a,b){return v(this,a,!0,b)},q.prototype.readInt8=function(a,b){var c=this,d;return b||(i.ok(a!==undefined&&a!==null,"missing offset"),i.ok(a<c.length,"Trying to read beyond buffer length")),d=c.parent[c.offset+a]&128,d?(255-c.parent[c.offset+a]+1)*-1:c.parent[c.offset+a]},q.prototype.readInt16LE=function(a,b){return w(this,a,!1,b)},q.prototype.readInt16BE=function(a,b){return w(this,a,!0,b)},q.prototype.readInt32LE=function(a,b){return x(this,a,!1,b)},q.prototype.readInt32BE=function(a,b){return x(this,a,!0,b)},q.prototype.readFloatLE=function(a,b){return y(this,a,!1,b)},q.prototype.readFloatBE=function(a,b){return y(this,a,!0,b)},q.prototype.readDoubleLE=function(a,b){return z(this,a,!1,b)},q.prototype.readDoubleBE=function(a,b){return z(this,a,!0,b)},q.prototype.writeUInt8=function(a,b,c){var d=this;c||(i.ok(a!==undefined&&a!==null,"missing value"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b<d.length,"trying to write beyond buffer length"),A(a,255)),d.parent[d.offset+b]=a},q.prototype.writeUInt16LE=function(a,b,c){B(this,a,b,!1,c)},q.prototype.writeUInt16BE=function(a,b,c){B(this,a,b,!0,c)},q.prototype.writeUInt32LE=function(a,b,c){C(this,a,b,!1,c)},q.prototype.writeUInt32BE=function(a,b,c){C(this,a,b,!0,c)},q.prototype.writeInt8=function(a,b,c){var d=this;c||(i.ok(a!==undefined&&a!==null,"missing value"),i.ok(b!==undefined&&b!==null,"missing offset"),i.ok(b<d.length,"Trying to write beyond buffer length"),D(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},q.prototype.writeInt16LE=function(a,b,c){F(this,a,b,!1,c)},q.prototype.writeInt16BE=function(a,b,c){F(this,a,b,!0,c)},q.prototype.writeInt32LE=function(a,b,c){G(this,a,b,!1,c)},q.prototype.writeInt32BE=function(a,b,c){G(this,a,b,!0,c)},q.prototype.writeFloatLE=function(a,b,c){H(this,a,b,!1,c)},q.prototype.writeFloatBE=function(a,b,c){H(this,a,b,!0,c)},q.prototype.writeDoubleLE=function(a,b,c){I(this,a,b,!1,c)},q.prototype.writeDoubleBE=function(a,b,c){I(this,a,b,!0,c)},h.prototype.readUInt8=q.prototype.readUInt8,h.prototype.readUInt16LE=q.prototype.readUInt16LE,h.prototype.readUInt16BE=q.prototype.readUInt16BE,h.prototype.readUInt32LE=q.prototype.readUInt32LE,h.prototype.readUInt32BE=q.prototype.readUInt32BE,h.prototype.readInt8=q.prototype.readInt8,h.prototype.readInt16LE=q.prototype.readInt16LE,h.prototype.readInt16BE=q.prototype.readInt16BE,h.prototype.readInt32LE=q.prototype.readInt32LE,h.prototype.readInt32BE=q.prototype.readInt32BE,h.prototype.readFloatLE=q.prototype.readFloatLE,h.prototype.readFloatBE=q.prototype.readFloatBE,h.prototype.readDoubleLE=q.prototype.readDoubleLE,h.prototype.readDoubleBE=q.prototype.readDoubleBE,h.prototype.writeUInt8=q.prototype.writeUInt8,h.prototype.writeUInt16LE=q.prototype.writeUInt16LE,h.prototype.writeUInt16BE=q.prototype.writeUInt16BE,h.prototype.writeUInt32LE=q.prototype.writeUInt32LE,h.prototype.writeUInt32BE=q.prototype.writeUInt32BE,h.prototype.writeInt8=q.prototype.writeInt8,h.prototype.writeInt16LE=q.prototype.writeInt16LE,h.prototype.writeInt16BE=q.prototype.writeInt16BE,h.prototype.writeInt32LE=q.prototype.writeInt32LE,h.prototype.writeInt32BE=q.prototype.writeInt32BE,h.prototype.writeFloatLE=q.prototype.writeFloatLE,h.prototype.writeFloatBE=q.prototype.writeFloatBE,h.prototype.writeDoubleLE=q.prototype.writeDoubleLE,h.prototype.writeDoubleBE=q.prototype.writeDoubleBE}),require.define("assert",function(a,b,c,d,e,f,g){function k(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function m(a,b){return b===undefined?""+b:typeof b=="number"&&(isNaN(b)||!isFinite(b))?b.toString():typeof b=="function"||b instanceof RegExp?b.toString():b}function n(a,b){return typeof a=="string"?a.length<b?a:a.slice(0,b):a}function o(a,b,c,d,e){throw new l.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function p(a,b){a||o(a,!0,b,"==",l.ok)}function q(a,b){if(a===b)return!0;if(i.isBuffer(a)&&i.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():typeof a!="object"&&typeof b!="object"?a==b:t(a,b)}function r(a){return a===null||a===undefined}function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}function t(a,b){if(r(a)||r(b))return!1;if(a.prototype!==b.prototype)return!1;if(s(a))return s(b)?(a=j.call(a),b=j.call(b),q(a,b)):!1;try{var c=k(a),d=k(b),e,f}catch(g){return!1}if(c.length!=d.length)return!1;c.sort(),d.sort();for(f=c.length-1;f>=0;f--)if(c[f]!=d[f])return!1;for(f=c.length-1;f>=0;f--){e=c[f];if(!q(a[e],b[e]))return!1}return!0}function u(a,b){return!a||!b?!1:b instanceof RegExp?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1}function v(a,b,c,d){var e;typeof c=="string"&&(d=c,c=null);try{b()}catch(f){e=f}d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&o("Missing expected exception"+d),!a&&u(e,c)&&o("Got unwanted exception"+d);if(a&&e&&c&&!u(e,c)||!a&&e)throw e}var h=a("util"),i=a("buffer").Buffer,j=Array.prototype.slice,l=b.exports=p;l.AssertionError=function(b){this.name="AssertionError",this.message=b.message,this.actual=b.actual,this.expected=b.expected,this.operator=b.operator;var c=b.stackStartFunction||o;Error.captureStackTrace&&Error.captureStackTrace(this,c)},h.inherits(l.AssertionError,Error),l.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",n(JSON.stringify(this.actual,m),128),this.operator,n(JSON.stringify(this.expected,m),128)].join(" ")},l.AssertionError.__proto__=Error.prototype,l.fail=o,l.ok=p,l.equal=function(b,c,d){b!=c&&o(b,c,d,"==",l.equal)},l.notEqual=function(b,c,d){b==c&&o(b,c,d,"!=",l.notEqual)},l.deepEqual=function(b,c,d){q(b,c)||o(b,c,d,"deepEqual",l.deepEqual)},l.notDeepEqual=function(b,c,d){q(b,c)&&o(b,c,d,"notDeepEqual",l.notDeepEqual)},l.strictEqual=function(b,c,d){b!==c&&o(b,c,d,"===",l.strictEqual)},l.notStrictEqual=function(b,c,d){b===c&&o(b,c,d,"!==",l.notStrictEqual)},l.throws=function(a,b,c){v.apply(this,[!0].concat(j.call(arguments)))},l.doesNotThrow=function(a,b,c){v.apply(this,[!1].concat(j.call(arguments)))},l.ifError=function(a){if(a)throw a}}),require.define("/node_modules/buffer-browserify/node_modules/base64-js/package.json",function(a,b,c,d,e,f,g){b.exports={main:"lib/b64.js"}}),require.define("/node_modules/buffer-browserify/node_modules/base64-js/lib/b64.js",function(a,b,c,d,e,f,g){(function(a){function d(a){var b,d,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length;for(b=0,d=0;b<e;b+=4,d+=3)f=c.indexOf(a[b])<<18|c.indexOf(a[b+1])<<12|c.indexOf(a[b+2])<<6|c.indexOf(a[b+3]),h.push((f&16711680)>>16),h.push((f&65280)>>8),h.push(f&255);return g===2?(f=c.indexOf(a[b])<<2|c.indexOf(a[b+1])>>4,h.push(f&255)):g===1&&(f=c.indexOf(a[b])<<10|c.indexOf(a[b+1])<<4|c.indexOf(a[b+2])>>2,h.push(f>>8&255),h.push(f&255)),h}function e(a){function h(a){return c[a>>18&63]+c[a>>12&63]+c[a>>6&63]+c[a&63]}var b,d=a.length%3,e="",f,g;for(b=0,g=a.length-d;b<g;b+=3)f=(a[b]<<16)+(a[b+1]<<8)+a[b+2],e+=h(f);switch(d){case 1:f=a[a.length-1],e+=c[f>>2],e+=c[f<<4&63],e+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],e+=c[f>>10],e+=c[f>>4&63],e+=c[f<<2&63],e+="="}return e}"use strict";var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.exports.toByteArray=d,b.exports.fromByteArray=e})()}),require.define("/node_modules/buffer-browserify/buffer_ieee754.js",function(a,b,c,d,e,f,g){c.readIEEE754=function(a,b,c,d,e){var f,g,h=e*8-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;for(;k>0;f=f*256+a[b+l],l+=m,k-=8);g=f&(1<<-k)-1,f>>=-k,k+=d;for(;k>0;g=g*256+a[b+l],l+=m,k-=8);if(f===0)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*Infinity;g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=f*8-e-1,k=(1<<j)-1,l=k>>1,m=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=b<0||b===0&&1/b<0?1:0;b=Math.abs(b),isNaN(b)||b===Infinity?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));for(;e>=8;a[c+n]=h&255,n+=o,h/=256,e-=8);g=g<<e|h,j+=e;for(;j>0;a[c+n]=g&255,n+=o,g/=256,j-=8);a[c+n-o]|=p*128}}),require.define("/node_modules/incremental-eval/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js"}}),require.define("/node_modules/incremental-eval/index.js",function(require,module,exports,__dirname,__filename,process,global){function incrementalEval(____vs,__o){__o=__o||{};var ____v=____vs.split(/\n/),____res=[];for(var ____i=0;____i<____v.length;____i++){var ____line=____v[____i];if(____line)try{if(!____line.match(/^\s*?\/\//))with(__o)____res[____i]=function(____js){return eval(____js)}(____v.slice(0,____i+1).join("\n"))}catch(e){____res[____i]=e}}return ____res}typeof module!="undefined"&&(module.exports=incrementalEval)}),require.define("/node_modules/live-require/package.json",function(a,b,c,d,e,f,g){b.exports={main:"index.js"}}),require.define("/node_modules/live-require/index.js",function(a,b,c,d,e,f,g){function h(a,b){var c=document.head.getElementsByTagName("script");for(var d=0;d<c.length;d++)if(c[d].src==a)return"loaded";var e=document.head.appendChild(document.createElement("script"));e.onload=b,e.src=a}typeof b!="undefined"&&(b.exports=h)}),require.define("/node_modules/codemirror/package.json",function(a,b,c,d,e,f,g){b.exports={main:"lib/codemirror.js"}}),require.define("/node_modules/codemirror/lib/codemirror.js",function(a,b,c,d,e,f,g){(function(){function x(a,b){if(!(this instanceof x))return new x(a,b);this.options=b=b||{};for(var d in cR)!b.hasOwnProperty(d)&&cR.hasOwnProperty(d)&&(b[d]=cR[d]);J(b);var e=typeof b.value=="string"?0:b.value.first,f=this.display=y(a,e);f.wrapper.CodeMirror=this,G(this),b.autofocus&&!p&&bG(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new eJ},E(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var g=b.value;typeof g=="string"&&(g=new dX(b.value,b.mode)),by(this,d_)(this,g),c&&setTimeout(eT(bF,this,!0),20),bI(this);var h;try{h=document.activeElement==f.input}catch(i){}h||b.autofocus&&!p?setTimeout(eT(cc,this),20):cd(this),by(this,function(){for(var a in cQ)cQ.propertyIsEnumerable(a)&&cQ[a](this,b[a],cT);for(var c=0;c<cX.length;++c)cX[c](this)})()}function y(a,b){var c={},e=c.input=eY("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");f?e.style.width="1000px":e.setAttribute("wrap","off"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),c.inputDiv=eY("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=eY("div",[eY("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=eY("div",[eY("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=eY("div",null,"CodeMirror-scrollbar-filler"),c.lineDiv=eY("div"),c.selectionDiv=eY("div",null,null,"position: relative; z-index: 1"),c.cursor=eY("div"," ","CodeMirror-cursor"),c.otherCursor=eY("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),c.measure=eY("div",null,"CodeMirror-measure"),c.lineSpace=eY("div",[c.measure,c.selectionDiv,c.lineDiv,c.cursor,c.otherCursor],null,"position: relative; outline: none"),c.mover=eY("div",[eY("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=eY("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=eY("div",null,null,"position: absolute; height: "+eH+"px; width: 1px;"),c.gutters=eY("div",null,"CodeMirror-gutters"),c.lineGutter=null;var g=eY("div",[c.sizer,c.heightForcer,c.gutters],null,"position: relative; min-height: 100%");return c.scroller=eY("div",[g],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=eY("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.scroller],"CodeMirror"),d&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),o&&(e.style.width="0px"),f||(c.scroller.draggable=!0),k?(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"):d&&(c.scrollbarH.style.minWidth=c.scrollbarV.style.minWidth="18px"),c.viewOffset=c.lastSizeC=0,c.showingFrom=c.showingTo=b,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new eJ,c.draggingText=!1,c.cachedCharWidth=c.cachedTextHeight=null,c.measureLineCache=[],c.measureLineCachePos=0,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c}function z(a){a.doc.mode=x.getMode(a.options,a.doc.modeOption),a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,ba(a,100),a.state.modeGen++,a.curOp&&bB(a)}function A(a){a.options.lineWrapping?(a.display.wrapper.className+=" CodeMirror-wrap",a.display.sizer.style.minWidth=""):(a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-wrap",""),I(a)),C(a),bB(a),bl(a),setTimeout(function(){K(a.display,a.doc.height)},100)}function B(a){var b=bt(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/bu(a.display)-3);return function(e){return dw(a.doc,e)?0:c?(Math.ceil(e.text.length/d)||1)*b:b}}function C(a){var b=a.doc,c=B(a);b.iter(function(a){var b=c(a);b!=a.height&&ed(a,b)})}function D(a){var b=c_[a.options.keyMap].style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")}function E(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bl(a)}function F(a){G(a),bB(a)}function G(a){var b=a.display.gutters,c=a.options.gutters;eZ(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(eY("div",null,"CodeMirror-gutter "+e));e=="CodeMirror-linenumbers"&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none"}function H(a,b){if(b.height==0)return 0;var c=b.text.length,d,e=b;while(d=dt(e)){var f=d.find();e=ea(a,f.from.line),c+=f.from.ch-f.to.ch}e=b;while(d=du(e)){var f=d.find();c-=e.text.length-f.from.ch,e=ea(a,f.to.line),c+=e.text.length-f.to.ch}return c}function I(a){var b=a.display,c=a.doc;b.maxLine=ea(c,c.first),b.maxLineLength=H(c,b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var d=H(c,a);d>b.maxLineLength&&(b.maxLineLength=d,b.maxLine=a)})}function J(a){var b=!1;for(var c=0;c<a.gutters.length;++c)a.gutters[c]=="CodeMirror-linenumbers"&&(a.lineNumbers?b=!0:a.gutters.splice(c--,1));!b&&a.lineNumbers&&a.gutters.push("CodeMirror-linenumbers")}function K(a,b){var c=b+2*be(a);a.sizer.style.minHeight=a.heightForcer.style.top=c+"px";var d=Math.max(c,a.scroller.scrollHeight),e=a.scroller.scrollWidth>a.scroller.clientWidth,f=d>a.scroller.clientHeight;f?(a.scrollbarV.style.display="block",a.scrollbarV.style.bottom=e?fe(a.measure)+"px":"0",a.scrollbarV.firstChild.style.height=d-a.scroller.clientHeight+a.scrollbarV.clientHeight+"px"):a.scrollbarV.style.display="",e?(a.scrollbarH.style.display="block",a.scrollbarH.style.right=f?fe(a.measure)+"px":"0",a.scrollbarH.firstChild.style.width=a.scroller.scrollWidth-a.scroller.clientWidth+a.scrollbarH.clientWidth+"px"):a.scrollbarH.style.display="",e&&f?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=a.scrollbarFiller.style.width=fe(a.measure)+"px"):a.scrollbarFiller.style.display="",l&&fe(a.measure)===0&&(a.scrollbarV.style.minWidth=a.scrollbarH.style.minHeight=m?"18px":"12px")}function L(a,b,c){var d=a.scroller.scrollTop,e=a.wrapper.clientHeight;typeof c=="number"?d=c:c&&(d=c.top,e=c.bottom-c.top),d=Math.floor(d-be(a));var f=Math.ceil(d+e);return{from:ef(b,d),to:ef(b,f)}}function M(a){var b=a.display;if(!b.alignWidgets&&(!b.gutters.firstChild||!a.options.fixedGutter))return;var c=P(b)-b.scroller.scrollLeft+a.doc.scrollLeft,d=b.gutters.offsetWidth,e=c+"px";for(var f=b.lineDiv.firstChild;f;f=f.nextSibling)if(f.alignable)for(var g=0,h=f.alignable;g<h.length;++g)h[g].style.left=e;a.options.fixedGutter&&(b.gutters.style.left=c+d+"px")}function N(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=O(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(eY("div",[eY("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",!0}return!1}function O(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function P(a){return fa(a.scroller).left-fa(a.sizer).left}function Q(a,b,c){var d=a.display.showingFrom,e=a.display.showingTo,f=R(a,b,c);return f&&(eE(a,"update",a),(a.display.showingFrom!=d||a.display.showingTo!=e)&&eE(a,"viewportChange",a,a.display.showingFrom,a.display.showingTo)),Y(a),K(a.display,a.doc.height),f}function R(a,b,c){var e=a.display,f=a.doc;if(!e.wrapper.clientWidth){e.showingFrom=e.showingTo=f.first,e.viewOffset=0;return}var g=L(e,f,c);if(b.length==0&&g.from>e.showingFrom&&g.to<e.showingTo)return;N(a)&&(b=[{from:f.first,to:f.first+f.size}]);var h=e.sizer.style.marginLeft=e.gutters.offsetWidth+"px";e.scrollbarH.style.left=a.options.fixedGutter?h:"0";var i=Infinity;if(a.options.lineNumbers)for(var j=0;j<b.length;++j)if(b[j].diff){i=b[j].from;break}var k=f.first+f.size,l=Math.max(g.from-a.options.viewportMargin,f.first),m=Math.min(k,g.to+a.options.viewportMargin);e.showingFrom<l&&l-e.showingFrom<20&&(l=Math.max(f.first,e.showingFrom)),e.showingTo>m&&e.showingTo-m<20&&(m=Math.min(k,e.showingTo));if(w){l=ee(dv(f,ea(f,l)));while(m<k&&dw(f,ea(f,m)))++m}var n=[{from:Math.max(e.showingFrom,f.first),to:Math.min(e.showingTo,k)}];n[0].from>=n[0].to?n=[]:n=T(n,b);if(w)for(var j=0;j<n.length;++j){var o=n[j],p;while(p=du(ea(f,o.to-1))){var q=p.find().from.line;if(!(q>o.from)){n.splice(j--,1);break}o.to=q}}var r=0;for(var j=0;j<n.length;++j){var o=n[j];o.from<l&&(o.from=l),o.to>m&&(o.to=m),o.from>=o.to?n.splice(j--,1):r+=o.to-o.from}if(r==m-l&&l==e.showingFrom&&m==e.showingTo){S(a);return}n.sort(function(a,b){return a.from-b.from});var s=document.activeElement;r<(m-l)*.7&&(e.lineDiv.style.display="none"),V(a,l,m,n,i),e.lineDiv.style.display="",document.activeElement!=s&&s.offsetHeight&&s.focus();var t=l!=e.showingFrom||m!=e.showingTo||e.lastSizeC!=e.wrapper.clientHeight;t&&(e.lastSizeC=e.wrapper.clientHeight),e.showingFrom=l,e.showingTo=m,ba(a,100);var u=e.lineDiv.offsetTop;for(var v=e.lineDiv.firstChild,x;v;v=v.nextSibling)if(v.lineObj){if(d){var y=v.offsetTop+v.offsetHeight;x=y-u,u=y}else{var z=fa(v);x=z.bottom-z.top}var A=v.lineObj.height-x;x<2&&(x=bt(e));if(A>.001||A<-0.001){ed(v.lineObj,x);var B=v.lineObj.widgets;if(B)for(var j=0;j<B.length;++j)B[j].height=B[j].node.offsetHeight}}return S(a),L(e,f,c).to>m&&R(a,[],c),!0}function S(a){var b=a.display.viewOffset=eg(a,ea(a.doc,a.display.showingFrom));a.display.mover.style.top=b+"px"}function T(a,b){for(var c=0,d=b.length||0;c<d;++c){var e=b[c],f=[],g=e.diff||0;for(var h=0,i=a.length;h<i;++h){var j=a[h];e.to<=j.from&&e.diff?f.push({from:j.from+g,to:j.to+g}):e.to<=j.from||e.from>=j.to?f.push(j):(e.from>j.from&&f.push({from:j.from,to:e.from}),e.to<j.to&&f.push({from:e.to+g,to:j.to+g}))}a=f}return a}function U(a){var b=a.display,c={},d={};for(var e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:P(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function V(a,b,c,d,e){function l(b){var c=b.nextSibling;return f&&q&&a.display.currentWheelTarget==b?(b.style.display="none",b.lineObj=null):b.parentNode.removeChild(b),c}var g=U(a),h=a.display,i=a.options.lineNumbers;!d.length&&(!f||!a.display.currentWheelTarget)&&eZ(h.lineDiv);var j=h.lineDiv,k=j.firstChild,m=d.shift(),n=b;a.doc.iter(b,c,function(b){m&&m.to==n&&(m=d.shift());if(dw(a.doc,b)){b.height!=0&&ed(b,0);if(b.widgets&&k.previousSibling)for(var c=0;c<b.widgets.length;++c)if(b.widgets[c].showIfHidden){var f=k.previousSibling;if(/pre/i.test(f.nodeName)){var h=eY("div",null,null,"position: relative");f.parentNode.replaceChild(h,f),h.appendChild(f),f=h}var o=f.appendChild(eY("div",[b.widgets[c].node],"CodeMirror-linewidget"));X(b.widgets[c],o,f,g)}}else if(m&&m.from<=n&&m.to>n){while(k.lineObj!=b)k=l(k);i&&e<=n&&k.lineNumber&&e_(k.lineNumber,O(a.options,n)),k=k.nextSibling}else{if(b.widgets)for(var p=0,q=k,r;q&&p<20;++p,q=q.nextSibling)if(q.lineObj==b&&/div/i.test(q.nodeName)){r=q;break}var s=W(a,b,n,g,r);if(s!=r)j.insertBefore(s,k);else{while(k!=r)k=l(k);k=k.nextSibling}s.lineObj=b}++n});while(k)k=l(k)}function W(a,b,c,e,f){var g=dN(a,b),h=b.gutterMarkers,i=a.display,j;if(!a.options.lineNumbers&&!h&&!b.bgClass&&!b.wrapClass&&!b.widgets)return g;if(f){f.alignable=null;var k=!0,l=0;for(var m=f.firstChild,n;m;m=n){n=m.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(m.className))f.removeChild(m);else{for(var o=0,p=!0;o<b.widgets.length;++o){var q=b.widgets[o],r=!1;q.above||(r=p,p=!1);if(q.node==m.firstChild){X(q,m,f,e),++l,r&&f.insertBefore(g,m);break}}if(o==b.widgets.length){k=!1;break}}}k&&l==b.widgets.length&&(j=f,f.className=b.wrapClass||"")}j||(j=eY("div",null,b.wrapClass,"position: relative"),j.appendChild(g)),b.bgClass&&j.insertBefore(eY("div",null,b.bgClass+" CodeMirror-linebackground"),j.firstChild);if(a.options.lineNumbers||h){var s=j.insertBefore(eY("div",null,null,"position: absolute; left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px"),j.firstChild);a.options.fixedGutter&&(j.alignable||(j.alignable=[])).push(s),a.options.lineNumbers&&(!h||!h["CodeMirror-linenumbers"])&&(j.lineNumber=s.appendChild(eY("div",O(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+i.lineNumInnerWidth+"px")));if(h)for(var t=0;t<a.options.gutters.length;++t){var u=a.options.gutters[t],v=h.hasOwnProperty(u)&&h[u];v&&s.appendChild(eY("div",[v],"CodeMirror-gutter-elt","left: "+e.gutterLeft[u]+"px; width: "+e.gutterWidth[u]+"px"))}}d&&(j.style.zIndex=2);if(b.widgets&&j!=f)for(var o=0,w=b.widgets;o<w.length;++o){var q=w[o],x=eY("div",[q.node],"CodeMirror-linewidget");X(q,x,j,e),q.above?j.insertBefore(x,a.options.lineNumbers&&b.height!=0?s:g):j.appendChild(x),eE(q,"redraw")}return j}function X(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function Y(a){var b=a.display,c=cs(a.doc.sel.from,a.doc.sel.to);c||a.options.showCursorWhenSelecting?Z(a):b.cursor.style.display=b.otherCursor.style.display="none",c?b.selectionDiv.style.display="none":$(a);var d=bo(a,a.doc.sel.head,"div"),e=fa(b.wrapper),f=fa(b.lineDiv);b.inputDiv.style.top=Math.max(0,Math.min(b.wrapper.clientHeight-10,d.top+f.top-e.top))+"px",b.inputDiv.style.left=Math.max(0,Math.min(b.wrapper.clientWidth-10,d.left+f.left-e.left))+"px"}function Z(a){var b=a.display,c=bo(a,a.doc.sel.head,"div");b.cursor.style.left=c.left+"px",b.cursor.style.top=c.top+"px",b.cursor.style.height=Math.max(0,c.bottom-c.top)*a.options.cursorHeight+"px",b.cursor.style.display="",c.other?(b.otherCursor.style.display="",b.otherCursor.style.left=c.other.left+"px",b.otherCursor.style.top=c.other.top+"px",b.otherCursor.style.height=(c.other.bottom-c.other.top)*.85+"px"):b.otherCursor.style.display="none"}function $(a){function h(a,b,c,d){b<0&&(b=0),e.appendChild(eY("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(c==null?f-a:c)+"px; height: "+(d-b)+"px"))}function i(b,d,e,i){function m(c){return bn(a,cr(b,c),"div",j)}var j=ea(c,b),k=j.text.length,l=i?Infinity:-Infinity;return fl(eh(j),d||0,e==null?k:e,function(a,b,c){var j=m(c=="rtl"?b-1:a),n=m(c=="rtl"?a:b-1),o=j.left,p=n.right;n.top-j.top>3&&(h(o,j.top,null,j.bottom),o=g,j.bottom<n.top&&h(o,j.bottom,null,n.top)),e==null&&b==k&&(p=f),d==null&&a==0&&(o=g),l=i?Math.min(n.top,l):Math.max(n.bottom,l),o<g+1&&(o=g),h(o,n.top,p-o,n.bottom)}),l}var b=a.display,c=a.doc,d=a.doc.sel,e=document.createDocumentFragment(),f=b.lineSpace.offsetWidth,g=bf(a.display);if(d.from.line==d.to.line)i(d.from.line,d.from.ch,d.to.ch);else{var j=ea(c,d.from.line),k=j,l,m=[d.from.line,d.from.ch],n;while(l=du(k)){var o=l.find();m.push(o.from.ch,o.to.line,o.to.ch);if(o.to.line==d.to.line){m.push(d.to.ch),n=!0;break}k=ea(c,o.to.line)}if(n)for(var p=0;p<m.length;p+=3)i(m[p],m[p+1],m[p+2]);else{var q,r,s=ea(c,d.to.line);d.from.ch?q=i(d.from.line,d.from.ch,null,!1):q=eg(a,j)-b.viewOffset,d.to.ch?r=i(d.to.line,dt(s)?null:0,d.to.ch,!0):r=eg(a,s)-b.viewOffset,q<r&&h(g,q,null,r)}}e$(b.selectionDiv,e),b.selectionDiv.style.display=""}function _(a){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursor.style.visibility=b.otherCursor.style.visibility="",b.blinker=setInterval(function(){if(!b.cursor.offsetHeight)return;b.cursor.style.visibility=b.otherCursor.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate)}function ba(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.showingTo&&a.state.highlight.set(b,eT(bb,a))}function bb(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(b.frontier>=a.display.showingTo)return;var c=+(new Date)+a.options.workTime,d=cY(b.mode,bd(a,b.frontier)),e=[],f;b.iter(b.frontier,Math.min(b.first+b.size,a.display.showingTo+500),function(g){if(b.frontier>=a.display.showingFrom){var h=g.styles;g.styles=dI(a,g,d);var i=!h||h.length!=g.styles.length;for(var j=0;!i&&j<h.length;++j)i=h[j]!=g.styles[j];i&&(f&&f.end==b.frontier?f.end++:e.push(f={start:b.frontier,end:b.frontier+1})),g.stateAfter=cY(b.mode,d)}else dK(a,g,d),g.stateAfter=b.frontier%5==0?cY(b.mode,d):null;++b.frontier;if(+(new Date)>c)return ba(a,a.options.workDelay),!0}),e.length&&by(a,function(){for(var a=0;a<e.length;++a)bB(this,e[a].start,e[a].end)})()}function bc(a,b){var c,d,e=a.doc;for(var f=b,g=b-100;f>g;--f){if(f<=e.first)return e.first;var h=ea(e,f-1);if(h.stateAfter)return f;var i=eK(h
.text,null,a.options.tabSize);if(d==null||c>i)d=f-1,c=i}return d}function bd(a,b){var c=a.doc,d=a.display;if(!c.mode.startState)return!0;var e=bc(a,b),f=e>c.first&&ea(c,e-1).stateAfter;return f?f=cY(c.mode,f):f=cZ(c.mode),c.iter(e,b,function(g){dK(a,g,f);var h=e==b-1||e%5==0||e>=d.showingFrom&&e<d.showingTo;g.stateAfter=h?cY(c.mode,f):null,++e}),f}function be(a){return a.lineSpace.offsetTop}function bf(a){var b=e$(a.measure,eY("pre",null,null,"text-align: left")).appendChild(eY("span","x"));return b.offsetLeft}function bg(a,b,c,d){var e=-1;d=d||bi(a,b);for(var f=c;;f+=e){var g=d[f];if(g)break;e<0&&f==0&&(e=1)}return{left:f<c?g.right:g.left,right:f>c?g.left:g.right,top:g.top,bottom:g.bottom}}function bh(a,b){var c=a.display.measureLineCache;for(var d=0;d<c.length;++d){var e=c[d];if(e.text==b.text&&e.markedSpans==b.markedSpans&&a.display.scroller.clientWidth==e.width&&e.classes==b.textClass+"|"+b.bgClass+"|"+b.wrapClass)return e.measure}}function bi(a,b){var c=bh(a,b);if(!c){c=bj(a,b);var d=a.display.measureLineCache,e={text:b.text,width:a.display.scroller.clientWidth,markedSpans:b.markedSpans,measure:c,classes:b.textClass+"|"+b.bgClass+"|"+b.wrapClass};d.length==16?d[++a.display.measureLineCachePos%16]=e:d.push(e)}return c}function bj(a,b){var f=a.display,g=eS(b.text.length),h=dN(a,b,g);if(c&&!d&&!a.options.lineWrapping&&h.childNodes.length>100){var i=document.createDocumentFragment(),j=10,k=h.childNodes.length;for(var l=0,m=Math.ceil(k/j);l<m;++l){var n=eY("div",null,null,"display: inline-block");for(var o=0;o<j&&k;++o)n.appendChild(h.firstChild),--k;i.appendChild(n)}h.appendChild(i)}e$(f.measure,h);var p=fa(f.lineDiv),q=[],r=eS(b.text.length),s=h.offsetHeight;e&&f.measure.first!=h&&e$(f.measure,h);for(var l=0,t;l<g.length;++l)if(t=g[l]){var u=fa(t),v=Math.max(0,u.top-p.top),w=Math.min(u.bottom-p.top,s);for(var o=0;o<q.length;o+=2){var x=q[o],y=q[o+1];if(x>w||y<v)continue;if(x<=v&&y>=w||v<=x&&w>=y||Math.min(w,y)-Math.max(v,x)>=w-v>>1){q[o]=Math.min(v,x),q[o+1]=Math.max(w,y);break}}o==q.length&&q.push(v,w);var z=u.right;t.measureRight&&(z=fa(t.measureRight).left),r[l]={left:u.left-p.left,right:z-p.left,top:o}}for(var l=0,t;l<r.length;++l)if(t=r[l]){var A=t.top;t.top=q[A],t.bottom=q[A+1]}return r}function bk(a,b){var c=!1;if(b.markedSpans)for(var d=0;d<b.markedSpans;++d){var e=b.markedSpans[d];e.collapsed&&(e.to==null||e.to==b.text.length)&&(c=!0)}var f=!c&&bh(a,b);if(f)return bg(a,b,b.text.length,f).right;var g=dN(a,b),h=g.appendChild(fg(a.display.measure));return e$(a.display.measure,g),fa(h).right-fa(a.display.lineDiv).left}function bl(a){a.display.measureLineCache.length=a.display.measureLineCachePos=0,a.display.cachedCharWidth=a.display.cachedTextHeight=null,a.display.maxLineChanged=!0,a.display.lineNumChars=null}function bm(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=dC(b.widgets[e]);c.top+=f,c.bottom+=f}if(d=="line")return c;d||(d="local");var g=eg(a,b);d!="local"&&(g-=a.display.viewOffset);if(d=="page"){var h=fa(a.display.lineSpace);g+=h.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var i=h.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function bn(a,b,c,d){return d||(d=ea(a.doc,b.line)),bm(a,d,bg(a,d,b.ch),c)}function bo(a,b,c,d,e){function f(b,f){var g=bg(a,d,b,e);return f?g.left=g.right:g.right=g.left,bm(a,d,g,c)}d=d||ea(a.doc,b.line),e||(e=bi(a,d));var g=eh(d),h=b.ch;if(!g)return f(h);var i,j,k=g[0].level;for(var l=0;l<g.length;++l){var m=g[l],n=m.level%2,o,p;if(m.from<h&&m.to>h)return f(h,n);var q=n?m.to:m.from,r=n?m.from:m.to;if(q==h)l&&m.level<(o=g[l-1]).level?p=f(o.level%2?o.from:o.to-1,!0):p=f(n&&m.from!=m.to?h-1:h),n==k?i=p:j=p;else if(r==h){var o=l<g.length-1&&g[l+1];if(!n&&o&&o.from==o.to)continue;o&&m.level<o.level?p=f(o.level%2?o.to-1:o.from):p=f(n?h:h-1,!0),n==k?i=p:j=p}}return k&&!h&&(j=f(g[0].to-1)),i?(j&&(i.other=j),i):j}function bp(a,b,c){var d=new cr(a,b);return c&&(d.outside=!0),d}function bq(a,b,c){var d=a.doc;c+=a.display.viewOffset;if(c<0)return bp(d.first,0,!0);var e=ef(d,c),f=d.first+d.size-1;if(e>f)return bp(d.first+d.size-1,ea(d,f).text.length,!0);b<0&&(b=0);for(;;){var g=ea(d,e),h=br(a,g,e,b,c),i=du(g),j=i&&i.find();if(!(i&&h.ch>=j.from.ch))return h;e=j.to.line}}function br(a,b,c,d,e){function j(d){var e=bo(a,cr(c,d),"line",b,i);return g=!0,f>e.bottom?Math.max(0,e.left-h):f<e.top?e.left+h:(g=!1,e.left)}var f=e-eg(a,b),g=!1,h=a.display.wrapper.clientWidth,i=bi(a,b),k=eh(b),l=b.text.length,m=fo(b),n=fp(b),o=j(m),p=g,q=j(n),r=g;if(d>q)return bp(c,n,r);for(;;){if(k?n==m||n==fs(b,m,1):n-m<=1){var s=d-o<q-d,t=s?m:n;while(eX.test(b.text.charAt(t)))++t;var u=bp(c,t,s?p:r);return u.after=s,u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;x<v;++x)w=fs(b,w,1)}var y=j(w);if(y>d){n=w,q=y;if(r=g)q+=1e3;l-=v}else m=w,o=y,p=g,l=v}}function bt(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(bs==null){bs=eY("pre");for(var b=0;b<49;++b)bs.appendChild(document.createTextNode("x")),bs.appendChild(eY("br"));bs.appendChild(document.createTextNode("x"))}e$(a.measure,bs);var c=bs.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),eZ(a.measure),c||1}function bu(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var b=eY("span","x"),c=eY("pre",[b]);e$(a.measure,c);var d=b.offsetWidth;return d>2&&(a.cachedCharWidth=d),d||10}function bw(a){a.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,updateScrollPos:!1,id:++bv},eD++||(eC=[])}function bx(a){var b=a.curOp,c=a.doc,d=a.display;a.curOp=null,b.updateMaxLine&&I(a);if(d.maxLineChanged&&!a.options.lineWrapping){var e=bk(a,d.maxLine);d.sizer.style.minWidth=Math.max(0,e+3+eH)+"px",d.maxLineChanged=!1;var f=Math.max(0,d.sizer.offsetLeft+d.sizer.offsetWidth-d.scroller.clientWidth);f<c.scrollLeft&&!b.updateScrollPos&&bS(a,Math.min(d.scroller.scrollLeft,f),!0)}var g,h;if(b.updateScrollPos)g=b.updateScrollPos;else if(b.selectionChanged&&d.scroller.clientHeight){var i=bo(a,c.sel.head);g=cH(a,i.left,i.top,i.left,i.bottom)}if(b.changes.length||g&&g.scrollTop!=null)h=Q(a,b.changes,g&&g.scrollTop);!h&&b.selectionChanged&&Y(a),b.updateScrollPos?(d.scroller.scrollTop=d.scrollbarV.scrollTop=c.scrollTop=g.scrollTop,d.scroller.scrollLeft=d.scrollbarH.scrollLeft=c.scrollLeft=g.scrollLeft,M(a)):g&&cE(a),b.selectionChanged&&_(a),a.state.focused&&b.updateInput&&bF(a,b.userSelChange);var j=b.maybeHiddenMarkers,k=b.maybeUnhiddenMarkers;if(j)for(var l=0;l<j.length;++l)j[l].lines.length||eB(j[l],"hide");if(k)for(var l=0;l<k.length;++l)k[l].lines.length&&eB(k[l],"unhide");var m;--eD||(m=eC,eC=null),b.textChanged&&eB(a,"change",a,b.textChanged),b.selectionChanged&&eB(a,"cursorActivity",a);if(m)for(var l=0;l<m.length;++l)m[l]()}function by(a,b){return function(){var c=a||this,d=!c.curOp;d&&bw(c);try{var e=b.apply(c,arguments)}finally{d&&bx(c)}return e}}function bz(a){return function(){var b=this.cm&&!this.cm.curOp,c;b&&bw(this.cm);try{c=a.apply(this,arguments)}finally{b&&bx(this.cm)}return c}}function bA(a,b){var c=!a.curOp,d;c&&bw(a);try{d=b()}finally{c&&bx(a)}return d}function bB(a,b,c,d){b==null&&(b=a.doc.first),c==null&&(c=a.doc.first+a.doc.size),a.curOp.changes.push({from:b,to:c,diff:d})}function bC(a){if(a.display.pollingFast)return;a.display.poll.set(a.options.pollInterval,function(){bE(a),a.state.focused&&bC(a)})}function bD(a){function c(){var d=bE(a);!d&&!b?(b=!0,a.display.poll.set(60,c)):(a.display.pollingFast=!1,bC(a))}var b=!1;a.display.pollingFast=!0,a.display.poll.set(20,c)}function bE(a){var b=a.display.input,d=a.display.prevInput,e=a.doc,f=e.sel;if(!a.state.focused||fi(b)||bH(a))return!1;var g=b.value;if(g==d&&cs(f.from,f.to))return!1;if(c&&g&&b.selectionStart===0)return bF(a,!0),!1;var h=!a.curOp;h&&bw(a),f.shift=!1;var i=0,j=Math.min(d.length,g.length);while(i<j&&d[i]==g[i])++i;var k=f.from,l=f.to;i<d.length?k=cr(k.line,k.ch-(d.length-i)):a.state.overwrite&&cs(k,l)&&!a.state.pasteIncoming&&(l=cr(l.line,Math.min(ea(e,l.line).text.length,l.ch+(g.length-i))));var m=a.curOp.updateInput;return ck(a.doc,{from:k,to:l,text:fh(g.slice(i)),origin:a.state.pasteIncoming?"paste":"+input"},"end"),a.curOp.updateInput=m,g.length>1e3?b.value=a.display.prevInput="":a.display.prevInput=g,h&&bx(a),a.state.pasteIncoming=!1,!0}function bF(a,b){var c,d,e=a.doc;cs(e.sel.from,e.sel.to)?b&&(a.display.prevInput=a.display.input.value=""):(a.display.prevInput="",c=fj&&(e.sel.to.line-e.sel.from.line>100||(d=a.getSelection()).length>1e3),c?a.display.input.value="-":a.display.input.value=d||a.getSelection(),a.state.focused&&eO(a.display.input)),a.display.inaccurateSelection=c}function bG(a){a.options.readOnly!="nocursor"&&(!p||document.activeElement!=a.display.input)&&a.display.input.focus()}function bH(a){return a.options.readOnly||a.doc.cantEdit}function bI(a){function c(){a.state.focused&&setTimeout(eT(bG,a),0)}function d(){b.cachedCharWidth=b.cachedTextHeight=null,bl(a),bA(a,eT(bB,a))}function e(){for(var a=b.wrapper.parentNode;a&&a!=document.body;a=a.parentNode);a?setTimeout(e,5e3):eA(window,"resize",d)}function f(b){if(a.options.onDragEvent&&a.options.onDragEvent(a,et(b)))return;ew(b)}function g(){b.inaccurateSelection&&(b.prevInput="",b.inaccurateSelection=!1,b.input.value=a.getSelection(),eO(b.input))}var b=a.display;ez(b.scroller,"mousedown",by(a,bN)),ez(b.scroller,"dblclick",by(a,eu)),ez(b.lineSpace,"selectstart",function(a){bJ(b,a)||eu(a)}),u||ez(b.scroller,"contextmenu",function(b){cf(a,b)}),ez(b.scroller,"scroll",function(){bR(a,b.scroller.scrollTop),bS(a,b.scroller.scrollLeft,!0),eB(a,"scroll",a)}),ez(b.scrollbarV,"scroll",function(){bR(a,b.scrollbarV.scrollTop)}),ez(b.scrollbarH,"scroll",function(){bS(a,b.scrollbarH.scrollLeft)}),ez(b.scroller,"mousewheel",function(b){bV(a,b)}),ez(b.scroller,"DOMMouseScroll",function(b){bV(a,b)}),ez(b.scrollbarH,"mousedown",c),ez(b.scrollbarV,"mousedown",c),ez(b.wrapper,"scroll",function(){b.wrapper.scrollTop=b.wrapper.scrollLeft=0}),ez(window,"resize",d),setTimeout(e,5e3),ez(b.input,"keyup",by(a,function(b){if(a.options.onKeyEvent&&a.options.onKeyEvent(a,et(b)))return;b.keyCode==16&&(a.doc.sel.shift=!1)})),ez(b.input,"input",eT(bD,a)),ez(b.input,"keydown",by(a,ca)),ez(b.input,"keypress",by(a,cb)),ez(b.input,"focus",eT(cc,a)),ez(b.input,"blur",eT(cd,a)),a.options.dragDrop&&(ez(b.scroller,"dragstart",function(b){bQ(a,b)}),ez(b.scroller,"dragenter",f),ez(b.scroller,"dragover",f),ez(b.scroller,"drop",by(a,bO))),ez(b.scroller,"paste",function(c){if(bJ(b,c))return;bG(a),bD(a)}),ez(b.input,"paste",function(){a.state.pasteIncoming=!0,bD(a)}),ez(b.input,"cut",g),ez(b.input,"copy",g),k&&ez(b.sizer,"mouseup",function(){document.activeElement==b.input&&b.input.blur(),bG(a)})}function bJ(a,b){for(var c=ex(b);c!=a.wrapper;c=c.parentNode){if(!c)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(c.className)||c.parentNode==a.sizer&&c!=a.mover)return!0}}function bK(a,b,c){var d=a.display;if(!c){var e=ex(b);if(e==d.scrollbarH||e==d.scrollbarH.firstChild||e==d.scrollbarV||e==d.scrollbarV.firstChild||e==d.scrollbarFiller)return null}var f,g,h=fa(d.lineSpace);try{f=b.clientX,g=b.clientY}catch(b){return null}return bq(a,f-h.left,g-h.top)}function bN(a){function p(a){if(j=="single"){cz(b.doc,cw(e,h),a);return}n=cw(e,n),o=cw(e,o);if(j=="double"){var c=cO(ea(e,a.line).text,a);ct(a,n)?cz(b.doc,c.from,o):cz(b.doc,n,c.to)}else j=="triple"&&(ct(a,n)?cz(b.doc,o,cw(e,cr(a.line,0))):cz(b.doc,n,cw(e,cr(a.line+1,0))))}function s(a){var c=++r,f=bK(b,a,!0);if(!f)return;if(!cs(f,l)){b.state.focused||cc(b),l=f,p(f);var g=L(d,e);(f.line>=g.to||f.line<g.from)&&setTimeout(by(b,function(){r==c&&s(a)}),150)}else{var h=a.clientY<q.top?-20:a.clientY>q.bottom?20:0;h&&setTimeout(by(b,function(){if(r!=c)return;d.scroller.scrollTop+=h,s(a)}),50)}}function t(a){r=Infinity;var c=bK(b,a);c&&p(c),eu(a),bG(b),eA(document,"mousemove",v),eA(document,"mouseup",w)}var b=this,d=b.display,e=b.doc,g=e.sel;g.shift=a.shiftKey;if(bJ(d,a)){f||(d.scroller.draggable=!1,setTimeout(function(){d.scroller.draggable=!0},100));return}if(bP(b,a))return;var h=bK(b,a);switch(ey(a)){case 3:u&&cf.call(b,b,a);return;case 2:h&&cz(b.doc,h),setTimeout(eT(bG,b),20),eu(a);return}if(!h){ex(a)==d.scroller&&eu(a);return}b.state.focused||cc(b);var i=+(new Date),j="single";if(bM&&bM.time>i-400&&cs(bM.pos,h))j="triple",eu(a),setTimeout(eT(bG,b),20),cP(b,h.line);else if(bL&&bL.time>i-400&&cs(bL.pos,h)){j="double",bM={time:i,pos:h},eu(a);var k=cO(ea(e,h.line).text,h);cz(b.doc,k.from,k.to)}else bL={time:i,pos:h};var l=h;if(b.options.dragDrop&&fb&&!bH(b)&&!cs(g.from,g.to)&&!ct(h,g.from)&&!ct(g.to,h)&&j=="single"){var m=by(b,function(c){f&&(d.scroller.draggable=!1),b.state.draggingText=!1,eA(document,"mouseup",m),eA(d.scroller,"drop",m),Math.abs(a.clientX-c.clientX)+Math.abs(a.clientY-c.clientY)<10&&(eu(c),cz(b.doc,h),bG(b))});f&&(d.scroller.draggable=!0),b.state.draggingText=m,d.scroller.dragDrop&&d.scroller.dragDrop(),ez(document,"mouseup",m),ez(d.scroller,"drop",m);return}eu(a),j=="single"&&cz(b.doc,cw(e,h));var n=g.from,o=g.to,q=fa(d.wrapper),r=0,v=by(b,function(a){!c&&!ey(a)?t(a):s(a)}),w=by(b,t);ez(document,"mousemove",v),ez(document,"mouseup",w)}function bO(a){var b=this;if(bJ(b.display,a)||b.options.onDragEvent&&b.options.onDragEvent(b,et(a)))return;eu(a);var c=bK(b,a,!0),d=a.dataTransfer.files;if(!c||bH(b))return;if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),g=0,h=function(a,d){var h=new FileReader;h.onload=function(){f[d]=h.result,++g==e&&(c=cw(b.doc,c),ck(b.doc,{from:c,to:c,text:fh(f.join("\n")),origin:"paste"},"around"))},h.readAsText(a)};for(var i=0;i<e;++i)h(d[i],i)}else{if(b.state.draggingText&&!ct(c,b.doc.sel.from)&&!ct(b.doc.sel.to,c)){b.state.draggingText(a),setTimeout(eT(bG,b),20);return}try{var f=a.dataTransfer.getData("Text");if(f){var j=b.doc.sel.from,k=b.doc.sel.to;cB(b.doc,c,c),b.state.draggingText&&cq(b.doc,"",j,k,"paste"),b.replaceSelection(f,null,"paste"),bG(b),cc(b)}}catch(a){}}}function bP(a,b){var c=a.display;try{var d=b.clientX,e=b.clientY}catch(b){return!1}if(d>=Math.floor(fa(c.gutters).right))return!1;eu(b);if(!eG(a,"gutterClick"))return!0;var f=fa(c.lineDiv);if(e>f.bottom)return!0;e-=f.top-c.viewOffset;for(var g=0;g<a.options.gutters.length;++g){var h=c.gutters.childNodes[g];if(h&&fa(h).right>=d){var i=ef(a.doc,e),j=a.options.gutters[g];eE(a,"gutterClick",a,i,j,b);break}}return!0}function bQ(a,b){if(bJ(a.display,b))return;var c=a.getSelection();b.dataTransfer.setData("Text",c);if(b.dataTransfer.setDragImage){var d=eY("img",null,null,"position: fixed; left: 0; top: 0;");i&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),j&&(a.display.dragImg?d=a.display.dragImg:(a.display.dragImg=d,d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.display.wrapper.appendChild(d))),b.dataTransfer.setDragImage(d,0,0),i&&d.parentNode.removeChild(d)}}function bR(b,c){if(Math.abs(b.doc.scrollTop-c)<2)return;b.doc.scrollTop=c,a||Q(b,[],c),b.display.scroller.scrollTop!=c&&(b.display.scroller.scrollTop=c),b.display.scrollbarV.scrollTop!=c&&(b.display.scrollbarV.scrollTop=c),a&&Q(b,[])}function bS(a,b,c){if(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)return;b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,M(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b)}function bV(b,c){var d=c.wheelDeltaX,e=c.wheelDeltaY;d==null&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(d=c.detail),e==null&&c.detail&&c.axis==c.VERTICAL_AXIS?e=c.detail:e==null&&(e=c.wheelDelta);if(e&&q&&f)for(var g=c.target;g!=j;g=g.parentNode)if(g.lineObj){b.display.currentWheelTarget=g;break}var h=b.display,j=h.scroller;if(d&&!a&&!i&&bU!=null){e&&bR(b,Math.max(0,Math.min(j.scrollTop+e*bU,j.scrollHeight-j.clientHeight))),bS(b,Math.max(0,Math.min(j.scrollLeft+d*bU,j.scrollWidth-j.clientWidth))),eu(c),h.wheelStartX=null;return}if(e&&bU!=null){var k=e*bU,l=b.doc.scrollTop,m=l+h.wrapper.clientHeight;k<0?l=Math.max(0,l+k-50):m=Math.min(b.doc.height,m+k+50),Q(b,[],{top:l,bottom:m})}bT<20&&(h.wheelStartX==null?(h.wheelStartX=j.scrollLeft,h.wheelStartY=j.scrollTop,h.wheelDX=d,h.wheelDY=e,setTimeout(function(){if(h.wheelStartX==null)return;var a=j.scrollLeft-h.wheelStartX,b=j.scrollTop-h.wheelStartY,c=b&&h.wheelDY&&b/h.wheelDY||a&&h.wheelDX&&a/h.wheelDX;h.wheelStartX=h.wheelStartY=null;if(!c)return;bU=(bU*bT+c)/(bT+1),++bT},200)):(h.wheelDX+=d,h.wheelDY+=e))}function bW(a,b,c){if(typeof b=="string"){b=c$[b];if(!b)return!1}a.display.pollingFast&&bE(a)&&(a.display.pollingFast=!1);var d=a.doc,e=d.sel.shift,f=!1;try{bH(a)&&(a.state.suppressEdits=!0),c&&(d.sel.shift=!1),f=b(a)!=eI}finally{d.sel.shift=e,a.state.suppressEdits=!1}return f}function bX(a){var b=a.state.keyMaps.slice(0);return b.push(a.options.keyMap),a.options.extraKeys&&b.unshift(a.options.extraKeys),b}function bZ(a,b){var c=da(a.options.keyMap),d=c.auto;clearTimeout(bY),d&&!dc(b)&&(bY=setTimeout(function(){da(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d)},50));var f=dd(b,!0),g=!1;if(!f)return!1;var h=bX(a);return b.shiftKey?g=db("Shift-"+f,h,function(b){return bW(a,b,!0)})||db(f,h,function(b){if(typeof b=="string"&&/^go[A-Z]/.test(b))return bW(a,b)}):g=db(f,h,function(b){return bW(a,b)}),g=="stop"&&(g=!1),g&&(eu(b),_(a),e&&(b.oldKeyCode=b.keyCode,b.keyCode=0)),g}function b$(a,b,c){var d=db("'"+c+"'",bX(a),function(b){return bW(a,b,!0)});return d&&(eu(b),_(a)),d}function ca(a){var b=this;b.state.focused||cc(b),c&&a.keyCode==27&&(a.returnValue=!1);if(b.options.onKeyEvent&&b.options.onKeyEvent(b,et(a)))return;var d=a.keyCode;b.doc.sel.shift=d==16||a.shiftKey;var e=bZ(b,a);i&&(b_=e?d:null,!e&&d==88&&!fj&&(q?a.metaKey:a.ctrlKey)&&b.replaceSelection(""))}function cb(a){var b=this;if(b.options.onKeyEvent&&b.options.onKeyEvent(b,et(a)))return;var c=a.keyCode,d=a.charCode;if(i&&c==b_){b_=null,eu(a);return}if((i&&(!a.which||a.which<10)||k)&&bZ(b,a))return;var e=String.fromCharCode(d==null?c:d);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!bH(this)&&this.doc.mode.electricChars.indexOf(e)>-1&&setTimeout(by(b,function(){cK(b,b.doc.sel.to.line,"smart")}),75);if(b$(b,a,e))return;bD(b)}function cc(a){if(a.options.readOnly=="nocursor")return;a.state.focused||(eB(a,"focus",a),a.state.focused=!0,a.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1&&(a.display.wrapper.className+=" CodeMirror-focused"),bF(a,!0)),bC(a),_(a)}function cd(a){a.state.focused&&(eB(a,"blur",a),a.state.focused=!1,a.display.wrapper.className=a.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.doc.sel.shift=!1)},150)}function cf(a,b){function k(){d.inputDiv.style.position="relative",d.input.style.cssText=j,e&&(d.scrollbarV.scrollTop=d.scroller.scrollTop=h),bC(a);if(d.input.selectionStart!=null&&(!c||e)){clearTimeout(ce);var b=d.input.value=" "+(cs(f.from,f.to)?"":d.input.value),g=0;d.prevInput=" ",d.input.selectionStart=1,d.input.selectionEnd=b.length;var i=function(){d.prevInput==" "&&d.input.selectionStart==0?by(a,c$.selectAll)(a):g++<10?ce=setTimeout(i,500):bF(a)};ce=setTimeout(i,200)}}var d=a.display,f=a.doc.sel;if(bJ(d,b))return;var g=bK(a,b),h=d.scroller.scrollTop;if(!g||i)return;(cs(f.from,f.to)||ct(g,f.from)||!ct(g,f.to))&&by(a,cB)(a.doc,g,g);var j=d.input.style.cssText;d.inputDiv.style.position="absolute",d.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",bG(a),bF(a,!0),cs(f.from,f.to)&&(d.input.value=d.prevInput=" ");if(u){ew(b);var l=function(){eA(window,"mouseup",l),setTimeout(k,20)};ez(window,"mouseup",l)}else setTimeout(k,50)}function cg(a){return cr(a.from.line+a.text.length-1,eN(a.text).length+(a.text.length==1?a.from.ch:0))}function ch(a,b,c){if(!ct(b.from,c))return cw(a,c);var d=b.text.length-1-(b.to.line-b.from.line);if(c.line>b.to.line+d){var e=c.line-d,f=a.first+a.size-1;return e>f?cr(f,ea(a,f).text.length):cx(c,ea(a,e).text.length)}if(c.line==b.to.line+d)return cx(c,eN(b.text).length+(b.text.length==1?b.from.ch:0)+ea(a,b.to.line).text.length-b.to.ch);var g=c.line-b.from.line;return cx(c,b.text[g].length+(g?0:b.from.ch))}function ci(a,b,c){if(c&&typeof c=="object")return{anchor:ch(a,b,c.anchor),head:ch(a,b,c.head)};if(c=="start")return{anchor:b.from,head:b.from};var d=cg(b);if(c=="around")return{anchor:b.from,head:d};if(c=="end")return{anchor:d,head:d};var e=function(a){if(ct(a,b.from))return a;if(!ct(b.to,a))return d;var c=a.line+b.text.length-(b.to.line-b.from.line)-1,e=a.ch;return a.line==b.to.line&&(e+=d.ch-b.to.ch),cr(c,e)};return{anchor:e(a.sel.anchor),head:e(a.sel.head)}}function cj(a,b){var c={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,update:function(b,c,d,e){b&&(this.from=cw(a,b)),c&&(this.to=cw(a,c)),d&&(this.text=d),e!==undefined&&(this.origin=e)},cancel:function(){this.canceled=!0}};return eB(a,"beforeChange",a,c),a.cm&&eB(a.cm,"beforeChange",a.cm,c),c.canceled?null:{from:c.from,to:c.to,text:c.text,origin:c.origin}}function ck(a,b,c,d){if(a.cm){if(!a.cm.curOp)return by(a.cm,ck)(a,b,c,d);if(a.cm.state.suppressEdits)return}if(eG(a,"beforeChange")||a.cm&&eG(a.cm,"beforeChange")){b=cj(a,b);if(!b)return}var e=v&&!d&&dr(a,b.from,b.to);if(e){for(var f=e.length-1;f>=1;--f)cl(a,{from:e[f].from,to:e[f].to,text:[""]});e.length&&cl(a,{from:e[0].from,to:e[0].to,text:b.text},c)}else cl(a,b,c)}function cl(a,b,c){var d=ci(a,b,c);el(a,b,d,a.cm?a.cm.curOp.id:NaN),co(a,b,d,dp(a,b));var e=[];d$(a,function(a,c){!c&&eP(e,a.history)==-1&&(er(a.history,b),e.push(a.history)),co(a,b,null,dp(a,b))})}function cm(a,b){var c=a.history,d=(b=="undo"?c.done:c.undone).pop();if(!d)return;c.dirtyCounter+=b=="undo"?-1:1;var e={changes:[],anchorBefore:d.anchorAfter,headBefore:d.headAfter,anchorAfter:d.anchorBefore,headAfter:d.headBefore};(b=="undo"?c.undone:c.done).push(e);for(var f=d.changes.length-1;f>=0;--f){var g=d.changes[f];g.origin=b,e.changes.push(ek(a,g));var h=f?ci(a,g,null):{anchor:d.anchorBefore,head:d.headBefore};co(a,g,h,dq(a,g));var i=[];d$(a,function(a,b){!b&&eP(i,a.history)==-1&&(er(a.history,g),i.push(a.history)),co(a,g,null,dq(a,g))})}}function cn(a,b){function c(a){return cr(a.line+b,a.ch)}a.first+=b,a.cm&&bB(a.cm,a.first,a.first,b),a.sel.head=c(a.sel.head),a.sel.anchor=c(a.sel.anchor),a.sel.from=c(a.sel.from),a.sel.to=c(a.sel.to)}function co(a,b,c,d){if(a.cm&&!a.cm.curOp)return by(a.cm,co)(a,b,c,d);if(b.to.line<a.first){cn(a,b.text.length-1-(b.to.line-b.from.line));return}if(b.from.line>a.lastLine())return;if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);cn(a,e),b={from:cr(a.first,0),to:cr(b.to.line+e,b.to.ch),text:[eN(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:cr(f,ea(a,f).text.length),text:[b.text[0]],origin:b.origin}),c||(c=ci(a,b,null)),a.cm?cp(a.cm,b,d,c):dT(a,b,d,c)}function cp(a,b,c,d){var e=a.doc,f=a.display,g=b.from,h=b.to,i=!1,j=g.line;a.options.lineWrapping||(j=ee(dv(e,ea(e,g.line))),e.iter(j,h.line+1,function(a){if(a==f.maxLine)return i=!0,!0})),dT(e,b,c,d,B(a)),a.options.lineWrapping||(e.iter(j,g.line+b.text.length,function(a){var b=H(e,a);b>f.maxLineLength&&(f.maxLine=a,f.maxLineLength=b,f.maxLineChanged=!0,i=!1)}),i&&(a.curOp.updateMaxLine=!0)),e.frontier=Math.min(e.frontier,g.line),ba(a,400);var k=b.text.length-(h.line-g.line)-1;bB(a,g.line,h.line+1,k);if(eG(a,"change")){var l={from:g,to:h,text:b.text,origin:b.origin};if(a.curOp.textChanged){for(var m=a.curOp.textChanged;m.next;m=m.next);m.next=l}else a.curOp.textChanged=l}}function cq(a,b,c,d,e){d||(d=c);if(ct(d,c)){var f=d;d=c,c=f}typeof b=="string"&&(b=fh(b)),ck(a,{from:c,to:d,text:b,origin:e},null)}function cr(a,b){if(!(this instanceof cr))return new cr(a,b);this.line=a,this.ch=b}function cs(a,b){return a.line==b.line&&a.ch==b.ch}function ct(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function cu(a){return cr(a.line,a.ch)}function cv(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function cw(a,b){if(b.line<a.first)return cr(a.first,0);var c=a.first+a.size-1;return b.line>c?cr(c,ea(a,c).text.length):cx(b,ea(a,b.line).text.length)}function cx(a,b){var c=a.ch;return c==null||c>b?cr(a.line,b):c<0?cr(a.line,0):a}function cy(a,b){return b>=a.first&&b<a.first+a.size}function cz(a,b,c,d){if(a.sel.shift||a.sel.extend){var e=a.sel.anchor;if(c){var f=ct(b,e);f!=ct(c,e)?(e=b,b=c):f!=ct(b,c)&&(b=c)}cB(a,e,b,d)}else cB(a,b,c||b,d);a.cm&&(a.cm.curOp.userSelChange=!0)}function cA(a,b,c){var d={anchor:b,head:c};return eB(a,"beforeSelectionChange",a,d),a.cm&&eB(a.cm,"beforeSelectionChange",a.cm,d),d.anchor=cw(a,d.anchor),d.head=cw(a,d.head),d}function cB(a,b,c,d,e){if(!e&&eG(a,"beforeSelectionChange")||a.cm&&eG(a.cm,"beforeSelectionChange")){var f=cA(a,b,c);c=f.head,b=f.anchor}var g=a.sel;g.goalColumn=null;if(e||!cs(b,g.anchor))b=cD(a,b,d,e!="push");if(e||!cs(c,g.head))c=cD(a,c,d,e!="push");if(cs(g.anchor,b)&&cs(g.head,c))return;g.anchor=b,g.head=c;var h=ct(c,b);g.from=h?c:b,g.to=h?b:c,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0),eE(a,"cursorActivity",a)}function cC(a){cB(a.doc,a.doc.sel.from,a.doc.sel.to,null,"push")}function cD(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=ea(a,f.line),i;if(h.markedSpans){for(var j=0;j<h.markedSpans.length;++j){var k=h.markedSpans[j],l=k.marker;if((k.from==null||(l.inclusiveLeft?k.from<=f.ch:k.from<f.ch))&&(k.to==null||(l.inclusiveRight?k.to>=f.ch:k.to>f.ch))){if(d&&l.clearOnEnter){(i||(i=[])).push(l);continue}if(!l.atomic)continue;var m=l.find()[g<0?"from":"to"];if(cs(m,f)){m.ch+=g,m.ch<0?m.line>a.first?m=cw(a,cr(m.line-1)):m=null:m.ch>h.text.length&&(m.line<a.first+a.size-1?m=cr(m.line+1,0):m=null);if(!m){if(e)return d?(a.cantEdit=!0,cr(a.first,0)):cD(a,b,c,!0);e=!0,m=b,g=-g}}f=m;continue a}}if(i)for(var j=0;j<i.length;++j)i[j].clear()}return f}}function cE(a){var b=cF(a,a.doc.sel.head);if(!a.state.focused)return;var c=a.display,d=fa(c.sizer),e=null;b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1);if(e!=null&&!n){var f=c.cursor.style.display=="none";f&&(c.cursor.style.display="",c.cursor.style.left=b.left+"px",c.cursor.style.top=b.top-c.viewOffset+"px"),c.cursor.scrollIntoView(e),f&&(c.cursor.style.display="none")}}function cF(a,b){for(;;){var c=!1,d=bo(a,b),e=cH(a,d.left,d.top,d.left,d.bottom),f=a.doc.scrollTop,g=a.doc.scrollLeft;e.scrollTop!=null&&(bR(a,e.scrollTop),Math.abs(a.doc.scrollTop-f)>1&&(c=!0)),e.scrollLeft!=null&&(bS(a,e.scrollLeft),Math.abs(a.doc.scrollLeft-g)>1&&(c=!0));if(!c)return d}}function cG(a,b,c,d,e){var f=cH(a,b,c,d,e);f.scrollTop!=null&&bR(a,f.scrollTop),f.scrollLeft!=null&&bS(a,f.scrollLeft)}function cH(a,b,c,d,e){var f=a.display,g=be(f);c+=g,e+=g;var h=f.scroller.clientHeight-eH,i=f.scroller.scrollTop,j={},k=a.doc.height+2*g,l=c<g+10,m=e+g>k-10;c<i?j.scrollTop=l?0:Math.max(0,c):e>i+h&&(j.scrollTop=(m?k:e)-h);var n=f.scroller.clientWidth-eH,o=f.scroller.scrollLeft;b+=f.gutters.offsetWidth,d+=f.gutters.offsetWidth;var p=f.gutters.offsetWidth,q=b<p+10;return b<o+p||q?(q&&(b=0),j.scrollLeft=Math.max(0,b-10-p)):d>n+o-3&&(j.scrollLeft=d+10-n),j}function cI(a,b,c){a.curOp.updateScrollPos={scrollLeft:b,scrollTop:c}}function cJ(a,b,c){var d=a.curOp.updateScrollPos||(a.curOp.updateScrollPos={scrollLeft:a.doc.scrollLeft,scrollTop:a.doc.scrollTop}),e=a.display.scroller;d.scrollTop=Math.max(0,Math.min(e.scrollHeight-e.clientHeight,d.scrollTop+c)),d.scrollLeft=Math.max(0,Math.min(e.scrollWidth-e.clientWidth,d.scrollLeft+b))}function cK(a,b,c,d){var e=a.doc;c||(c="add");if(c=="smart")if(!a.doc.mode.indent)c="prev";else var f=bd(a,b);var g=a.options.tabSize,h=ea(e,b),i=eK(h.text,null,g),j=h.text.match(/^\s*/)[0],k;if(c=="smart"){k=a.doc.mode.indent(f,h.text.slice(j.length),h.text);if(k==eI){if(!d)return;c="prev"}}c=="prev"?b>e.first?k=eK(ea(e,b-1).text,null,g):k=0:c=="add"?k=i+a.options.indentUnit:c=="subtract"&&(k=i-a.options.indentUnit),k=Math.max(0,k);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(k/g);n;--n)m+=g,l+="\t";m<k&&(l+=eM(k-m)),l!=j&&cq(a.doc,l,cr(b,0),cr(b,j.length),"+input"),h.stateAfter=null}function cL(a,b,c){var d=b,e=b,f=a.doc;return typeof b=="number"?e=ea(f,cv(f,b)):d=ee(b),d==null?null:c(e,d)?(bB(a,d,d+1),e):null}function cM(a,b,c,d,e){function j(){var b=f+c;return b<a.first||b>=a.first+a.size?i=!1:(f=b,h=ea(a,b))}function k(a){var b=(e?fs:ft)(h,g,c,!0);if(b==null){if(!!a||!j())return i=!1;e?g=(c<0?fp:fo)(h):g=c<0?h.text.length:0}else g=b;return!0}var f=b.line,g=b.ch,h=ea(a,f),i=!0;if(d=="char")k();else if(d=="column")k(!0);else if(d=="word"){var l=!1;for(;;){if(c<0&&!k())break;if(eV(h.text.charAt(g)))l=!0;else if(l){c<0&&(c=1,k());break}if(c>0&&!k())break}}var m=cD(a,cr(f,g),c,!0);return i||(m.hitSide=!0),m}function cN(a,b,c,d){var e=a.doc,f=b.left,g;if(d=="page"){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);g=b.top+c*(h-(c<0?1.5:.5)*bt(a.display))}else d=="line"&&(g=c>0?b.bottom+3:b.top-3);for(;;){var i=bq(a,f,g);if(!i.outside)break;if(c<0?g<=0:g>=e.height){i.hitSide=!0;break}g+=c*5}return i}function cO(a,b){var c=b.ch,d=b.ch;if(a){b.after===!1||d==a.length?--c:++d;var e=a.charAt(c),f=eV(e)?eV:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!eV(a)};while(c>0&&f(a.charAt(c-1)))--c;while(d<a.length&&f(a.charAt(d)))++d}return{from:cr(b.line,c),to:cr(b.line,d)}}function cP(a,b){cz(a.doc,cr(b,0),cw(a.doc,cr(b+1,0)))}function cS(a,b,c,d){x.defaults[a]=b,c&&(cQ[a]=d?function(a,b,d){d!=cT&&c(a,b,d)}:c)}function cY(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function cZ(a,b,c){return a.startState?a.startState(b,c):!0}function da(a){return typeof a=="string"?c_[a]:a}function db(a,b,c){function d(b){b=da(b);var e=b[a];if(e===!1)return"stop";if(e!=null&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(f==null)return!1;if(Object.prototype.toString.call(f)!="[object Array]")return d(f);for(var g=0,h=f.length;g<h;++g){var i=d(f[g]);if(i)return i}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return f}}function dc(a){var b=fk[a.keyCode];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function dd(a,b){var c=fk[a.keyCode];if(c==null||a.altGraphKey)return!1;a.altKey&&(c="Alt-"+c);if(t?a.metaKey:a.ctrlKey)c="Ctrl-"+c;if(t?a.ctrlKey:a.metaKey)c="Cmd-"+c;return!b&&a.shiftKey&&(c="Shift-"+c),c}function de(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0}function df(a,b){this.lines=[],this.type=b,this.doc=a}function dg(a,b,c,d,e){if(d&&d.shared)return di(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return by(a.cm,dg)(a,b,c,d,e);var f=new df(a,e);if(e=="range"&&!ct(b,c))return f;d&&eR(d,f),f.replacedWith&&(f.collapsed=!0,f.replacedWith=eY("span",[f.replacedWith],"CodeMirror-widget")),f.collapsed&&(w=!0);var g=b.line,h=0,i,j,k=a.cm,l;a.iter(g,c.line+1,function(d){k&&f.collapsed&&!k.options.lineWrapping&&dv(a,d)==k.display.maxLine&&(l=!0);var e={from:null,to:null,marker:f};h+=d.text.length,g==b.line&&(e.from=b.ch,h-=b.ch),g==c.line&&(e.to=c.ch,h-=d.text.length-c.ch),f.collapsed&&(g==c.line&&(j=ds(d,c.ch)),g==b.line?i=ds(d,b.ch):ed(d,0)),dl(d,e),++g}),f.collapsed&&a.iter(b.line,c.line+1,function(b){dw(a,b)&&ed(b,0)}),f.readOnly&&(v=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());if(f.collapsed){if(i!=j)throw new Error("Inserting collapsed marker overlapping an existing one");f.size=h,f.atomic=!0}return k&&(l&&(k.curOp.updateMaxLine=!0),(f.className||f.startStyle||f.endStyle||f.collapsed)&&bB(k,b.line,c.line+1),f.atomic&&cC(k)),f}function dh(a,b){this.markers=a,this.primary=b;for(var c=0,d=this;c<a.length;++c)a[c].parent=this,ez(a[c],"clear",function(){d.clear()})}function di(a,b,c,d,e){d=eR(d),d.shared=!1;var f=[dg(a,b,c,d,e)],g=f[0];return d$(a,function(a){f.push(dg(a,cw(a,b),cw(a,c),d,e));for(var h=0;h<a.linked.length;++h)if(a.linked[h].isParent)return;g=eN(f)}),new dh(f,g)}function dj(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function dk(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function dl(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function dm(a,b,c){if(a)for(var d=0,e;d<a.length;++d){var f=a[d],g=f.marker,h=f.from==null||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||g.type=="bookmark"&&
f.from==b&&(!c||!f.marker.insertLeft)){var i=f.to==null||(g.inclusiveRight?f.to>=b:f.to>b);(e||(e=[])).push({from:f.from,to:i?null:f.to,marker:g})}}return e}function dn(a,b,c){if(a)for(var d=0,e;d<a.length;++d){var f=a[d],g=f.marker,h=f.to==null||(g.inclusiveRight?f.to>=b:f.to>b);if(h||g.type=="bookmark"&&f.from==b&&(!c||f.marker.insertLeft)){var i=f.from==null||(g.inclusiveLeft?f.from<=b:f.from<b);(e||(e=[])).push({from:i?null:f.from-b,to:f.to==null?null:f.to-b,marker:g})}}return e}function dp(a,b){var c=cy(a,b.from.line)&&ea(a,b.from.line).markedSpans,d=cy(a,b.to.line)&&ea(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=cs(b.from,b.to),h=dm(c,e,g),i=dn(d,f,g),j=b.text.length==1,k=eN(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(m.to==null){var n=dj(i,m.marker);n?j&&(m.to=n.to==null?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];m.to!=null&&(m.to+=k);if(m.from==null){var n=dj(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}var o=[h];if(!j){var p=b.text.length-2,q;if(p>0&&h)for(var l=0;l<h.length;++l)h[l].to==null&&(q||(q=[])).push({from:null,to:null,marker:h[l].marker});for(var l=0;l<p;++l)o.push(q);o.push(i)}return o}function dq(a,b){var c=en(a,b),d=dp(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){var i=g[h];for(var j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function dr(a,b,c){var d=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;c.readOnly&&(!d||eP(d,c)==-1)&&(d||(d=[])).push(c)}});if(!d)return null;var e=[{from:b,to:c}];for(var f=0;f<d.length;++f){var g=d[f],h=g.find();for(var i=0;i<e.length;++i){var j=e[i];if(ct(j.to,h.from)||ct(h.to,j.from))continue;var k=[i,1];(ct(j.from,h.from)||!g.inclusiveLeft&&cs(j.from,h.from))&&k.push({from:j.from,to:h.from}),(ct(h.to,j.to)||!g.inclusiveRight&&cs(j.to,h.to))&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function ds(a,b){var c=w&&a.markedSpans,d;if(c)for(var e,f=0;f<c.length;++f){e=c[f];if(!e.marker.collapsed)continue;(e.from==null||e.from<b)&&(e.to==null||e.to>b)&&(!d||d.width<e.marker.width)&&(d=e.marker)}return d}function dt(a){return ds(a,-1)}function du(a){return ds(a,a.text.length+1)}function dv(a,b){var c;while(c=dt(b))b=ea(a,c.find().from.line);return b}function dw(a,b){var c=w&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e){d=c[e];if(!d.marker.collapsed)continue;if(d.from==null)return!0;if(d.from==0&&d.marker.inclusiveLeft&&dx(a,b,d))return!0}}function dx(a,b,c){if(c.to==null){var d=c.marker.find().to,e=ea(a,d.line);return dx(a,e,dj(e.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var f,g=0;g<b.markedSpans.length;++g){f=b.markedSpans[g];if(f.marker.collapsed&&f.from==c.to&&(f.marker.inclusiveLeft||c.marker.inclusiveRight)&&dx(a,b,f))return!0}}function dy(a){var b=a.markedSpans;if(!b)return;for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}function dz(a,b){if(!b)return;for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}function dB(a){return function(){var b=!this.cm.curOp;b&&bw(this.cm);try{var c=a.apply(this,arguments)}finally{b&&bx(this.cm)}return c}}function dC(a){return a.height!=null?a.height:((!a.node.parentNode||a.node.parentNode.nodeType!=1)&&e$(a.cm.display.measure,eY("div",[a.node],null,"position: relative")),a.height=a.node.offsetHeight)}function dD(a,b,c,d){var e=new dA(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),cL(a,b,function(b){(b.widgets||(b.widgets=[])).push(e),e.line=b;if(!dw(a.doc,b)||e.showIfHidden){var c=eg(a,b)<a.display.scroller.scrollTop;ed(b,b.height+dC(e)),c&&cJ(a,0,e.height)}return!0}),e}function dE(a,b,c){var d={text:a};return dz(d,b),d.height=c?c(d):1,d}function dF(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),dy(a),dz(a,c);var e=d?d(a):1;e!=a.height&&ed(a,e),eE(a,"change")}function dG(a){a.parent=null,dy(a)}function dH(a,b,c,d,e){var f=c.flattenSpans;f==null&&(f=a.options.flattenSpans);var g="",h=null,i=new de(b,a.options.tabSize);b==""&&c.blankLine&&c.blankLine(d);while(!i.eol()){var j=c.token(i,d);i.pos>5e3&&(f=!1,i.pos=Math.min(b.length,i.start+5e4),j=null);var k=i.current();i.start=i.pos,!f||h!=j?(g&&e(g,h),g=k,h=j):g+=k}g&&e(g,h)}function dI(a,b,c){var d=[a.state.modeGen];dH(a,b.text,a.doc.mode,c,function(a,b){d.push(a,b)});for(var e=0;e<a.state.overlays.length;++e){var f=a.state.overlays[e],g=1;dH(a,b.text,f.mode,!0,function(a,b){var c=g,e=a.length;while(e){var h=d[g],i=h.length;i<=e?e-=i:(d.splice(g,1,h.slice(0,e),d[g+1],h.slice(e)),e=0),g+=2}if(!b)return;if(f.opaque)d.splice(c,g-c,a,b),g=c+2;else for(;c<g;c+=2){var h=d[c+1];d[c+1]=h?h+" "+b:b}})}return d}function dJ(a,b){if(!b.styles||b.styles[0]!=a.state.modeGen)b.styles=dI(a,b,b.stateAfter=bd(a,ee(b)));return b.styles}function dK(a,b,c){var d=a.doc.mode,e=new de(b.text,a.options.tabSize);b.text==""&&d.blankLine&&d.blankLine(c);while(!e.eol()&&e.pos<=5e3)d.token(e,c),e.start=e.pos}function dM(a){return a?dL[a]||(dL[a]="cm-"+a.replace(/ +/g," cm-")):null}function dN(a,b,d){var e,f=b,g,h,i=!0;while(e=dt(f))i=!1,f=ea(a.doc,e.find().from.line),g||(g=f);var j={pre:eY("pre"),col:0,pos:0,display:!d,measure:null,addedOne:!1,cm:a};f.textClass&&(j.pre.className=f.textClass);do{j.measure=f==b&&d,j.pos=0,j.addToken=j.measure?dQ:dP,d&&h&&f!=b&&!j.addedOne&&(d[0]=j.pre.appendChild(fg(a.display.measure)),j.addedOne=!0);var k=dS(f,j,dJ(a,f));h=f==g,k&&(f=ea(a.doc,k.to.line),i=!1)}while(k);d&&!j.addedOne&&(d[0]=j.pre.appendChild(i?eY("span"," "):fg(a.display.measure))),!j.pre.firstChild&&!dw(a.doc,b)&&j.pre.appendChild(document.createTextNode(" "));var l;if(d&&c&&(l=eh(f))){var m=l.length-1;l[m].from==l[m].to&&--m;var n=l[m],o=l[m-1];if(n.from+1==n.to&&o&&n.level<o.level){var p=d[j.pos-1];p&&p.parentNode.insertBefore(p.measureRight=fg(a.display.measure),p.nextSibling)}}return j.pre}function dP(a,b,c,d,e){if(!b)return;if(!dO.test(b)){a.col+=b.length;var f=document.createTextNode(b)}else{var f=document.createDocumentFragment(),g=0;for(;;){dO.lastIndex=g;var h=dO.exec(b),i=h?h.index-g:b.length-g;i&&(f.appendChild(document.createTextNode(b.slice(g,g+i))),a.col+=i);if(!h)break;g+=i+1;if(h[0]=="\t"){var j=a.cm.options.tabSize,k=j-a.col%j;f.appendChild(eY("span",eM(k),"cm-tab")),a.col+=k}else{var l=eY("span","•","cm-invalidchar");l.title="\\u"+h[0].charCodeAt(0).toString(16),f.appendChild(l),a.col+=1}}}if(c||d||e||a.measure){var m=c||"";return d&&(m+=d),e&&(m+=e),a.pre.appendChild(eY("span",[f],m))}a.pre.appendChild(f)}function dQ(a,b,d,e,f){var g=a.cm.options.lineWrapping;for(var h=0;h<b.length;++h){var i=b.charAt(h),j=h==0;i>=""&&i<""&&h<b.length-1?(i=b.slice(h,h+2),++h):h&&g&&fc.test(b.slice(h-1,h+1))&&a.pre.appendChild(eY("wbr"));var k=a.measure[a.pos]=dP(a,i,d,j&&e,h==b.length-1&&f);c&&g&&i==" "&&h&&!/\s/.test(b.charAt(h-1))&&h<b.length-1&&!/\s/.test(b.charAt(h+1))&&(k.style.whiteSpace="normal"),a.pos+=i.length}b.length&&(a.addedOne=!0)}function dR(a,b,c){c&&(a.display||(c=c.cloneNode(!0)),a.pre.appendChild(c),a.measure&&b&&(a.measure[a.pos]=c,a.addedOne=!0)),a.pos+=b}function dS(a,b,c){var d=a.markedSpans;if(!d){for(var e=1;e<c.length;e+=2)b.addToken(b,c[e],dM(c[e+1]));return}var f=a.text,g=f.length,h=0,e=1,i="",j,k=0,l,m,n,o;for(;;){if(k==h){l=m=n="",o=null,k=Infinity;var p=null;for(var q=0;q<d.length;++q){var r=d[q],s=r.marker;r.from<=h&&(r.to==null||r.to>h)?(r.to!=null&&k>r.to&&(k=r.to,m=""),s.className&&(l+=" "+s.className),s.startStyle&&r.from==h&&(n+=" "+s.startStyle),s.endStyle&&r.to==k&&(m+=" "+s.endStyle),s.collapsed&&(!o||o.marker.width<s.width)&&(o=r)):r.from>h&&k>r.from&&(k=r.from),s.type=="bookmark"&&r.from==h&&s.replacedWith&&(p=s.replacedWith)}if(o&&(o.from||0)==h){dR(b,(o.to==null?g:o.to)-h,o.from!=null&&o.marker.replacedWith);if(o.to==null)return o.marker.find()}p&&!o&&dR(b,0,p)}if(h>=g)break;var t=Math.min(g,k);for(;;){if(i){var u=h+i.length;if(!o){var v=u>t?i.slice(0,t-h):i;b.addToken(b,v,j?j+l:l,n,h+v.length==k?m:"")}if(u>=t){i=i.slice(t-h),h=t;break}h=u,n=""}i=c[e++],j=dM(c[e++])}}}function dT(a,b,c,d,e){function f(a){return c?c[a]:null}var g=b.from,h=b.to,i=b.text,j=ea(a,g.line),k=ea(a,h.line),l=eN(i),m=f(i.length-1),n=h.line-g.line;if(g.ch==0&&h.ch==0&&l==""){for(var o=0,p=i.length-1,q=[];o<p;++o)q.push(dE(i[o],f(o),e));dF(k,k.text,m,e),n&&a.remove(g.line,n),q.length&&a.insert(g.line,q)}else if(j==k)if(i.length==1)dF(j,j.text.slice(0,g.ch)+l+j.text.slice(h.ch),m,e);else{for(var q=[],o=1,p=i.length-1;o<p;++o)q.push(dE(i[o],f(o),e));q.push(dE(l+j.text.slice(h.ch),m,e)),dF(j,j.text.slice(0,g.ch)+i[0],f(0),e),a.insert(g.line+1,q)}else if(i.length==1)dF(j,j.text.slice(0,g.ch)+i[0]+k.text.slice(h.ch),f(0),e),a.remove(g.line+1,n);else{dF(j,j.text.slice(0,g.ch)+i[0],f(0),e),dF(k,l+k.text.slice(h.ch),m,e);for(var o=1,p=i.length-1,q=[];o<p;++o)q.push(dE(i[o],f(o),e));n>1&&a.remove(g.line+1,n-1),a.insert(g.line+1,q)}eE(a,"change",a,b),cB(a,d.anchor,d.head,null,!0)}function dU(a){this.lines=a,this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function dV(a){this.children=a;var b=0,c=0;for(var d=0,e=a.length;d<e;++d){var f=a[d];b+=f.chunkSize(),c+=f.height,f.parent=this}this.size=b,this.height=c,this.parent=null}function d$(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc==e)continue;var i=f&&h.sharedHist;if(c&&!i)continue;b(h.doc,i),d(h.doc,a,i)}}d(a,null,!0)}function d_(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,C(a),z(a),a.options.lineWrapping||I(a),a.options.mode=b.modeOption,bB(a)}function ea(a,b){b-=a.first;while(!a.lines)for(var c=0;;++c){var d=a.children[c],e=d.chunkSize();if(b<e){a=d;break}b-=e}return a.lines[b]}function eb(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function ec(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function ed(a,b){var c=b-a.height;for(var d=a;d;d=d.parent)d.height+=c}function ee(a){if(a.parent==null)return null;var b=a.parent,c=eP(b.lines,a);for(var d=b.parent;d;b=d,d=d.parent)for(var e=0;;++e){if(d.children[e]==b)break;c+=d.children[e].chunkSize()}return c+b.first}function ef(a,b){var c=a.first;a:do{for(var d=0,e=a.children.length;d<e;++d){var f=a.children[d],g=f.height;if(b<g){a=f;continue a}b-=g,c+=f.chunkSize()}return c}while(!a.lines);for(var d=0,e=a.lines.length;d<e;++d){var h=a.lines[d],i=h.height;if(b<i)break;b-=i}return c+d}function eg(a,b){b=dv(a.doc,b);var c=0,d=b.parent;for(var e=0;e<d.lines.length;++e){var f=d.lines[e];if(f==b)break;c+=f.height}for(var g=d.parent;g;d=g,g=d.parent)for(var e=0;e<g.children.length;++e){var h=g.children[e];if(h==d)break;c+=h.height}return c}function eh(a){var b=a.order;return b==null&&(b=a.order=fu(a.text)),b}function ei(){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function ej(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function ek(a,b){var c={from:b.from,to:cg(b),text:eb(a,b.from,b.to)};return ej(a,c,b.from.line,b.to.line+1),d$(a,function(a){ej(a,c,b.from.line,b.to.line+1)},!0),c}function el(a,b,c,d){var e=a.history;e.undone.length=0;var f=+(new Date),g=eN(e.done);if(g&&(e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&(b.origin.charAt(0)=="+"&&e.lastTime>f-600||b.origin.charAt(0)=="*"))){var h=eN(g.changes);cs(b.from,b.to)&&cs(b.from,h.to)?h.to=cg(b):g.changes.push(ek(a,b)),g.anchorAfter=c.anchor,g.headAfter=c.head}else{g={changes:[ek(a,b)],anchorBefore:a.sel.anchor,headBefore:a.sel.head,anchorAfter:c.anchor,headAfter:c.head},e.done.push(g);while(e.done.length>e.undoDepth)e.done.shift();e.dirtyCounter<0?e.dirtyCounter=NaN:e.dirtyCounter++}e.lastTime=f,e.lastOp=d,e.lastOrigin=b.origin}function em(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?c.length?c:null:a}function en(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(em(c[d]));return e}function eo(a,b){for(var c=0,d=[];c<a.length;++c){var e=a[c],f=e.changes,g=[];d.push({changes:g,anchorBefore:e.anchorBefore,headBefore:e.headBefore,anchorAfter:e.anchorAfter,headAfter:e.headAfter});for(var h=0;h<f.length;++h){var i=f[h],j;g.push({from:i.from,to:i.to,text:i.text});if(b)for(var k in i)(j=k.match(/^spans_(\d+)$/))&&eP(b,Number(j[1]))>-1&&(eN(g)[k]=i[k],delete i[k])}}return d}function ep(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function eq(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;for(var h=0;h<f.changes.length;++h){var i=f.changes[h];f.copied||(i.from=cu(i.from),i.to=cu(i.to));if(c<i.from.line)i.from.line+=d,i.to.line+=d;else if(b<=i.to.line){g=!1;break}}f.copied||(f.anchorBefore=cu(f.anchorBefore),f.headBefore=cu(f.headBefore),f.anchorAfter=cu(f.anchorAfter),f.readAfter=cu(f.headAfter),f.copied=!0),g?(ep(f.anchorBefore),ep(f.headBefore),ep(f.anchorAfter),ep(f.headAfter)):(a.splice(0,e+1),e=0)}}function er(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;eq(a.done,c,d,e),eq(a.undone,c,d,e)}function es(){ew(this)}function et(a){return a.stop||(a.stop=es),a}function eu(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ev(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function ew(a){eu(a),ev(a)}function ex(a){return a.target||a.srcElement}function ey(a){var b=a.which;return b==null&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2)),q&&a.ctrlKey&&b==1&&(b=3),b}function ez(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}}function eA(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}}function eB(a,b){var c=a._handlers&&a._handlers[b];if(!c)return;var d=Array.prototype.slice.call(arguments,2);for(var e=0;e<c.length;++e)c[e].apply(null,d)}function eE(a,b){function e(a){return function(){a.apply(null,d)}}var c=a._handlers&&a._handlers[b];if(!c)return;var d=Array.prototype.slice.call(arguments,2);eC||(++eD,eC=[],setTimeout(eF,0));for(var f=0;f<c.length;++f)eC.push(e(c[f]))}function eF(){--eD;var a=eC;eC=null;for(var b=0;b<a.length;++b)a[b]()}function eG(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function eJ(){this.id=null}function eK(a,b,c,d,e){b==null&&(b=a.search(/[^\s\u00a0]/),b==-1&&(b=a.length));for(var f=d||0,g=e||0;f<b;++f)a.charAt(f)=="\t"?g+=c-g%c:++g;return g}function eM(a){while(eL.length<=a)eL.push(eN(eL)+" ");return eL[a]}function eN(a){return a[a.length-1]}function eO(a){o?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function eP(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function eQ(a,b){function c(){}c.prototype=a;var d=new c;return b&&eR(b,d),d}function eR(a,b){b||(b={});for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function eS(a){for(var b=[],c=0;c<a;++c)b.push(undefined);return b}function eT(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function eV(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||eU.test(a))}function eW(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function eY(a,b,c,d){var e=document.createElement(a);c&&(e.className=c),d&&(e.style.cssText=d);if(typeof b=="string")e_(e,b);else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function eZ(a){if(!c)a.innerHTML="";else while(a.firstChild)a.removeChild(a.firstChild);return a}function e$(a,b){return eZ(a).appendChild(b)}function e_(a,b){e?(a.innerHTML="",a.appendChild(document.createTextNode(b))):a.textContent=b}function fa(a){return a.getBoundingClientRect()}function fe(a){if(fd!=null)return fd;var b=eY("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return e$(a,b),b.offsetWidth&&(fd=b.offsetHeight-b.clientHeight),fd||0}function fg(a){if(ff==null){var b=eY("span","​");e$(a,eY("span",[b,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(ff=b.offsetWidth<=1&&b.offsetHeight>2&&!d)}return ff?eY("span","​"):eY("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function fl(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=0;e<a.length;++e){var f=a[e];(f.from<c&&f.to>b||b==c&&f.to==b)&&d(Math.max(f.from,b),Math.min(f.to,c),f.level==1?"rtl":"ltr")}}function fm(a){return a.level%2?a.to:a.from}function fn(a){return a.level%2?a.from:a.to}function fo(a){var b=eh(a);return b?fm(b[0]):0}function fp(a){var b=eh(a);return b?fn(eN(b)):a.text.length}function fq(a,b){var c=ea(a.doc,b),d=dv(a.doc,c);d!=c&&(b=ee(d));var e=eh(d),f=e?e[0].level%2?fp(d):fo(d):0;return cr(b,f)}function fr(a,b){var c,d;while(c=du(d=ea(a.doc,b)))b=c.find().to.line;var e=eh(d),f=e?e[0].level%2?fo(d):fp(d):d.text.length;return cr(b,f)}function fs(a,b,c,d){var e=eh(a);if(!e)return ft(a,b,c,d);var f=d?function(b,c){do b+=c;while(b>0&&eX.test(a.text.charAt(b)));return b}:function(a,b){return a+b},g=e[0].level;for(var h=0;h<e.length;++h){var i=e[h],j=i.level%2==g;if(i.from<b&&i.to>b||j&&(i.from==b||i.to==b))break}var k=f(b,i.level%2?-c:c);while(k!=null)if(i.level%2==g){if(!(k<i.from||k>i.to))break;i=e[h+=c],k=i&&(c>0==i.level%2?f(i.to,-1):f(i.from,1))}else if(k==fm(i))i=e[--h],k=i&&fn(i);else{if(k!=fn(i))break;i=e[++h],k=i&&fm(i)}return k<0||k>a.text.length?null:k}function ft(a,b,c,d){var e=b+c;if(d)while(e>0&&eX.test(a.text.charAt(e)))e+=c;return e<0||e>a.text.length?null:e}"use strict";var a=/gecko\/\d/i.test(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),d=c&&(document.documentMode==null||document.documentMode<8),e=c&&(document.documentMode==null||document.documentMode<9),f=/WebKit\//.test(navigator.userAgent),g=f&&/Qt\/\d+\.\d+/.test(navigator.userAgent),h=/Chrome\//.test(navigator.userAgent),i=/Opera\//.test(navigator.userAgent),j=/Apple Computer/.test(navigator.vendor),k=/KHTML\//.test(navigator.userAgent),l=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),m=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),n=/PhantomJS/.test(navigator.userAgent),o=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),p=o||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),q=o||/Mac/.test(navigator.platform),r=/windows/i.test(navigator.platform),s=i&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);s&&(s=Number(s[1]));var t=q&&(g||i&&(s==null||s<12.11)),u=a||c&&!e,v=!1,w=!1,bs,bv=0,bL,bM,bT=0,bU=null;c?bU=-0.53:a?bU=15:h?bU=-0.7:j&&(bU=-1/3);var bY,b_=null,ce;x.Pos=cr,x.prototype={focus:function(){window.focus(),bG(this),cc(this),bD(this)},setOption:function(a,b){var c=this.options,d=c[a];if(c[a]==b&&a!="mode")return;c[a]=b,cQ.hasOwnProperty(a)&&by(this,cQ[a])(this,b,d)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a){this.state.keyMaps.push(a)},removeKeyMap:function(a){var b=this.state.keyMaps;for(var c=0;c<b.length;++c)if((typeof a=="string"?b[c].name:b[c])==a)return b.splice(c,1),!0},addOverlay:by(null,function(a,b){var c=a.token?a:x.getMode(this.options,a);if(c.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque}),this.state.modeGen++,bB(this)}),removeOverlay:by(null,function(a){var b=this.state.overlays;for(var c=0;c<b.length;++c)if(b[c].modeSpec==a){b.splice(c,1),this.state.modeGen++,bB(this);return}}),indentLine:by(null,function(a,b,c){typeof b!="string"&&(b==null?b=this.options.smartIndent?"smart":"prev":b=b?"add":"subtract"),cy(this.doc,a)&&cK(this,a,b,c)}),indentSelection:by(null,function(a){var b=this.doc.sel;if(cs(b.from,b.to))return cK(this,b.from.line,a);var c=b.to.line-(b.to.ch?0:1);for(var d=b.from.line;d<=c;++d)cK(this,d,a)}),getTokenAt:function(a){var b=this.doc;a=cw(b,a);var c=bd(this,a.line),d=this.doc.mode,e=ea(b,a.line),f=new de(e.text,this.options.tabSize);while(f.pos<a.ch&&!f.eol()){f.start=f.pos;var g=d.token(f,c)}return{start:f.start,end:f.pos,string:f.current(),className:g||null,type:g||null,state:c}},getStateAfter:function(a){var b=this.doc;return a=cv(b,a==null?b.first+b.size-1:a),bd(this,a+1)},cursorCoords:function(a,b){var c,d=this.doc.sel;return a==null?c=d.head:typeof a=="object"?c=cw(this.doc,a):c=a?d.from:d.to,bo(this,c,b||"page")},charCoords:function(a,b){return bn(this,cw(this.doc,a),b||"page")},coordsChar:function(a){var b=fa(this.display.lineSpace),c=window.pageYOffset||(document.documentElement||document.body).scrollTop,d=window.pageXOffset||(document.documentElement||document.body).scrollLeft;return bq(this,a.left-b.left-d,a.top-b.top-c)},defaultTextHeight:function(){return bt(this.display)},setGutterMarker:by(null,function(a,b,c){return cL(this,a,function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&eW(d)&&(a.gutterMarkers=null),!0})}),clearGutter:by(null,function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,bB(b,d,d+1),eW(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineClass:by(null,function(a,b,c){return cL(this,a,function(a){var d=b=="text"?"textClass":b=="background"?"bgClass":"wrapClass";if(!a[d])a[d]=c;else{if((new RegExp("\\b"+c+"\\b")).test(a[d]))return!1;a[d]+=" "+c}return!0})}),removeLineClass:by(null,function(a,b,c){return cL(this,a,function(a){var d=b=="text"?"textClass":b=="background"?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(c==null)a[d]=null;else{var f=e.replace(new RegExp("^"+c+"\\b\\s*|\\s*\\b"+c+"\\b"),"");if(f==e)return!1;a[d]=f||null}return!0})}),addLineWidget:by(null,function(a,b,c){return dD(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if(typeof a=="number"){if(!cy(this.doc,a))return null;var b=a;a=ea(this.doc,a);if(!a)return null}else{var b=ee(a);if(b==null)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=bo(this,cw(this.doc,a));var g=a.bottom,h=a.left;b.style.position="absolute",f.sizer.appendChild(b);if(d=="over")g=a.top;else if(d=="above"||d=="near"){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);(d=="above"||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+be(f)+"px",b.style.left=b.style.right="",e=="right"?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):(e=="left"?h=0:e=="middle"&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&cG(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:by(null,ca),execCommand:function(a){return c$[a](this)},findPosH:function(a,b,c,d){var e=1;b<0&&(e=-1,b=-b);for(var f=0,g=cw(this.doc,a);f<b;++f){g=cM(this.doc,g,e,c,d);if(g.hitSide)break}return g},moveH:by(null,function(a,b){var c=this.doc.sel,d;c.shift||c.extend||cs(c.from,c.to)?d=cM(this.doc,c.head,a,b,this.options.rtlMoveVisually):d=a<0?c.from:c.to,cz(this.doc,d,d,a)}),deleteH:by(null,function(a,b){var c=this.doc.sel;cs(c.from,c.to)?cq(this.doc,"",c.from,cM(this.doc,c.head,a,b,!1),"+delete"):cq(this.doc,"",c.from,c.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(a,b,c,d){var e=1,f=d;b<0&&(e=-1,b=-b);for(var g=0,h=cw(this.doc,a);g<b;++g){var i=bo(this,h,"div");f==null?f=i.left:i.left=f,h=cN(this,i,e,c);if(h.hitSide)break}return h},moveV:by(null,function(a,b){var c=this.doc.sel,d=bo(this,c.head,"div");c.goalColumn!=null&&(d.left=c.goalColumn);var e=cN(this,d,a,b);b=="page"&&cJ(this,0,bn(this,e,"div").top-d.top),cz(this.doc,e,e,a),c.goalColumn=d.left}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},scrollTo:by(null,function(a,b){cI(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller,b=eH;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:function(a){typeof a=="number"&&(a=cr(a,0)),!a||a.line!=null?(a=a?cw(this.doc,a):this.doc.sel.head,cF(this,a)):cG(this,a.left,a.top,a.right,a.bottom)},setSize:function(a,b){function c(a){return typeof a=="number"||/^\d+$/.test(String(a))?a+"px":a}a!=null&&(this.display.wrapper.style.width=c(a)),b!=null&&(this.display.wrapper.style.height=c(b)),this.refresh()},on:function(a,b){ez(this,a,b)},off:function(a,b){eA(this,a,b)},operation:function(a){return bA(this,a)},refresh:by(null,function(){bl(this),cI(this,this.doc.scrollLeft,this.doc.scrollTop),bB(this)}),swapDoc:by(null,function(a){var b=this.doc;return b.cm=null,d_(this,a),bl(this),cI(this,a.scrollLeft,a.scrollTop),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var cQ=x.optionHandlers={},cR=x.defaults={},cT=x.Init={toString:function(){return"CodeMirror.Init"}};cS("value","",function(a,b){a.setValue(b)},!0),cS("mode",null,function(a,b){a.doc.modeOption=b,z(a)},!0),cS("indentUnit",2,z,!0),cS("indentWithTabs",!1),cS("smartIndent",!0),cS("tabSize",4,function(a){z(a),bl(a),bB(a)},!0),cS("electricChars",!0),cS("rtlMoveVisually",!r),cS("theme","default",function(a){E(a),F(a)},!0),cS("keyMap","default",D),cS("extraKeys",null),cS("onKeyEvent",null),cS("onDragEvent",null),cS("lineWrapping",!1,A,!0),cS("gutters",[],function(a){J(a.options),F(a)},!0),cS("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?P(a.display)+"px":"0",a.refresh()},!0),cS("lineNumbers",!1,function(a){J(a.options),F(a)},!0),cS("firstLineNumber",1,F,!0),cS("lineNumberFormatter",function(a){return a},F,!0),cS("showCursorWhenSelecting",!1,Y,!0),cS("readOnly",!1,function(a,b){b=="nocursor"?(cd(a),a.display.input.blur()):b||bF(a,!0)}),cS("dragDrop",!0),cS("cursorBlinkRate",530),cS("cursorHeight",1),cS("workTime",100),cS("workDelay",100),cS("flattenSpans",!0),cS("pollInterval",100),cS("undoDepth",40,function(a,b){a.doc.history.undoDepth=b}),cS("viewportMargin",10,function(a){a.refresh()},!0),cS("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),cS("autofocus",null);var cU=x.modes={},cV=x.mimeModes={};x.defineMode=function(a,b){!x.defaults.mode&&a!="null"&&(x.defaults.mode=a);if(arguments.length>2){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}cU[a]=b},x.defineMIME=function(a,b){cV[a]=b},x.resolveMode=function(a){if(typeof a=="string"&&cV.hasOwnProperty(a))a=cV[a];else if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return x.resolveMode("application/xml");return typeof a=="string"?{name:a}:a||{name:"null"}},x.getMode=function(a,b){b=x.resolveMode(b);var c=cU[b.name];if(!c)return x.getMode(a,"text/plain");var d=c(a,b);if(cW.hasOwnProperty(b.name)){var e=cW[b.name];for(var f in e){if(!e.hasOwnProperty(f))continue;d.hasOwnProperty(f)&&(d["_"+f]=d[f]),d[f]=e[f]}}return d.name=b.name,d},x.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),x.defineMIME("text/plain","null");var cW=x.modeExtensions={};x.extendMode=function(a,b){var c=cW.hasOwnProperty(a)?cW[a]:cW[a]={};eR(b,c)},x.defineExtension=function(a,b){x.prototype[a]=b},x.defineOption=cS;var cX=[];x.defineInitHook=function(a){cX.push(a)},x.copyState=cY,x.startState=cZ,x.innerMode=function(a,b){while(a.innerMode){var c=a.innerMode(b);b=c.state,a=c.mode}return c||{mode:a,state:b}};var c$=x.commands={selectAll:function(a){a.setSelection(cr(a.firstLine(),0),cr(a.lastLine()))},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!cs(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,cr(b.line+1,0),"+delete"):a.replaceRange("",b,d?c:cr(b.line),"+delete")},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",cr(b,0),cr(b),"+delete")},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.extendSelection(cr(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(cr(a.lastLine()))},goLineStart:function(a){a.extendSelection(fq(a,a.getCursor().line))},goLineStartSmart:function(a){var b=a.getCursor(),c=fq(a,b.line),d=a.getLineHandle(c.line),e=eh(d);if(!e||e[0].level==0){var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;a.extendSelection(cr(c.line,g?0:f))}else a.extendSelection(c)},goLineEnd:function(a){a.extendSelection(fr(a,a.getCursor().line))},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end","+input")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end","+input")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);b.ch>0&&b.ch<c.length-1&&a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),cr(b.line,b.ch-1),cr(b.line,b.ch+1))},newlineAndIndent:function(a){by(a,function(){a.replaceSelection("\n","end","+input"),a.indentLine(a.getCursor().line,null,!0)})()},toggleOverwrite:function(a){a.toggleOverwrite()}},c_=x.keyMap={};c_.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},c_.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},c_.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},c_["default"]=q?c_.macDefault:c_.pcDefault,c_.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},x.lookupKey=db,x.isModifierKey=dc,x.keyName=dd,x.fromTextArea=function(a,b){function e(){a.value=i.getValue()}b||(b={}),b.value=a.value,!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);if(b.autofocus==null){var c=document.body;try{c=document.activeElement}catch(d){}b.autofocus=c==a||a.getAttribute("autofocus"
)!=null&&c==document.body}if(a.form){ez(a.form,"submit",e);if(!b.leaveSubmitMethodAlone){var f=a.form,g=f.submit;try{var h=f.submit=function(){e(),f.submit=g,f.submit(),f.submit=h}}catch(d){}}}a.style.display="none";var i=x(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);return i.save=e,i.getTextArea=function(){return a},i.toTextArea=function(){e(),a.parentNode.removeChild(i.getWrapperElement()),a.style.display="",a.form&&(eA(a.form,"submit",e),typeof a.form.submit=="function"&&(a.form.submit=g))},i},de.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if(typeof a=="string")var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){var b=this.pos;while(this.eat(a));return this.pos>b},eatSpace:function(){var a=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=eK(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return eK(this.string,null,this.tabSize)},match:function(a,b,c){if(typeof a!="string"){var f=this.string.slice(this.pos).match(a);return f&&f.index>0?null:(f&&b!==!1&&(this.pos+=f[0].length),f)}var d=function(a){return c?a.toLowerCase():a},e=this.string.substr(this.pos,a.length);if(d(e)==d(a))return b!==!1&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)}},x.StringStream=de,x.TextMarker=df,df.prototype.clear=function(){if(this.explicitlyCleared)return;var a=this.doc.cm,b=a&&!a.curOp;b&&bw(a);var c=null,d=null;for(var e=0;e<this.lines.length;++e){var f=this.lines[e],g=dj(f.markedSpans,this);g.to!=null&&(d=ee(f)),f.markedSpans=dk(f.markedSpans,g),g.from!=null?c=ee(f):this.collapsed&&!dw(this.doc,f)&&a&&ed(f,bt(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var e=0;e<this.lines.length;++e){var h=dv(a.doc,this.lines[e]),i=H(a.doc,h);i>a.display.maxLineLength&&(a.display.maxLine=h,a.display.maxLineLength=i,a.display.maxLineChanged=!0)}c!=null&&a&&bB(a,c,d+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&cC(a)),b&&bx(a),eE(this,"clear")},df.prototype.find=function(){var a,b;for(var c=0;c<this.lines.length;++c){var d=this.lines[c],e=dj(d.markedSpans,this);if(e.from!=null||e.to!=null){var f=ee(d);e.from!=null&&(a=cr(f,e.from)),e.to!=null&&(b=cr(f,e.to))}}return this.type=="bookmark"?a:a&&{from:a,to:b}},df.prototype.getOptions=function(a){var b=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:a?b&&b.cloneNode(!0):b,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},df.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(!b.maybeHiddenMarkers||eP(b.maybeHiddenMarkers,this)==-1)&&(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},df.prototype.detachLine=function(a){this.lines.splice(eP(this.lines,a),1);if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},x.SharedTextMarker=dh,dh.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();eE(this,"clear")},dh.prototype.find=function(){return this.primary.find()},dh.prototype.getOptions=function(a){var b=this.primary.getOptions(a);return b.shared=!0,b};var dA=x.LineWidget=function(a,b,c){for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};dA.prototype.clear=dB(function(){var a=this.line.widgets,b=ee(this.line);if(b==null||!a)return;for(var c=0;c<a.length;++c)a[c]==this&&a.splice(c--,1);a.length||(this.line.widgets=null),ed(this.line,Math.max(0,this.line.height-dC(this))),bB(this.cm,b,b+1)}),dA.prototype.changed=dB(function(){var a=this.height;this.height=null;var b=dC(this)-a;if(!b)return;ed(this.line,this.line.height+b);var c=ee(this.line);bB(this.cm,c,c+1)});var dL={},dO=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;dU.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height,dG(e),eE(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0,e=b.length;d<e;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;a<d;++a)if(c(this.lines[a]))return!0}},dV.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null);if((b-=f)==0)break;a=0}else a-=e}if(this.size-b<25){var h=[];this.collapse(h),this.children=[new dU(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<=g){f.insertInner(a,b,c);if(f.lines&&f.lines.length>50){while(f.lines.length>50){var h=f.lines.splice(f.lines.length-25,25),i=new dU(h);f.height-=i.height,this.children.splice(d+1,0,i),i.parent=this}this.maybeSpill()}break}a-=g}},maybeSpill:function(){if(this.children.length<=10)return;var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new dV(b);if(!a.parent){var d=new dV(a.children);d.parent=a,a.children=[d,c],a=d}else{a.size-=c.size,a.height-=c.height;var e=eP(a.parent.children,a);a.parent.children.splice(e+1,0,c)}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var f=this.children[d],g=f.chunkSize();if(a<g){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if((b-=h)==0)break;a=0}else a-=g}}};var dW=0,dX=x.Doc=function(a,b,c){if(!(this instanceof dX))return new dX(a,b,c);c==null&&(c=0),dV.call(this,[new dU([dE("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=ei(),this.frontier=c;var d=cr(c,0);this.sel={from:d,to:d,head:d,anchor:d,shift:!1,extend:!1,goalColumn:null},this.id=++dW,this.modeOption=b,typeof a=="string"&&(a=fh(a)),dT(this,{from:d,to:d,text:a},null,{head:d,anchor:d})};dX.prototype=eQ(dV.prototype,{iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){var c=0;for(var d=0,e=b.length;d<e;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ec(this,this.first,this.first+this.size);return a===!1?b:b.join(a||"\n")},setValue:function(a){var b=cr(this.first,0),c=this.first+this.size-1;ck(this,{from:b,to:cr(c,ea(this,c).text.length),text:fh(a),origin:"setValue"},{head:b,anchor:b},!0)},replaceRange:function(a,b,c,d){b=cw(this,b),c=c?cw(this,c):b,cq(this,a,b,c,d)},getRange:function(a,b,c){var d=eb(this,cw(this,a),cw(this,b));return c===!1?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},setLine:function(a,b){cy(this,a)&&cq(this,b,cr(a,0),cw(this,cr(a)))},removeLine:function(a){cy(this,a)&&cq(this,"",cr(a,0),cw(this,cr(a+1,0)))},getLineHandle:function(a){if(cy(this,a))return ea(this,a)},getLineNumber:function(a){return ee(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return cw(this,a)},getCursor:function(a){var b=this.sel,c;return a==null||a=="head"?c=b.head:a=="anchor"?c=b.anchor:a=="end"||a===!1?c=b.to:c=b.from,cu(c)},somethingSelected:function(){return!cs(this.sel.head,this.sel.anchor)},setCursor:bz(function(a,b,c){var d=cw(this,typeof a=="number"?cr(a,b||0):a);c?cz(this,d):cB(this,d,d)}),setSelection:bz(function(a,b){cB(this,cw(this,a),cw(this,b||a))}),extendSelection:bz(function(a,b){cz(this,cw(this,a),b&&cw(this,b))}),getSelection:function(a){return this.getRange(this.sel.from,this.sel.to,a)},replaceSelection:function(a,b,c){ck(this,{from:this.sel.from,to:this.sel.to,text:fh(a),origin:c},b||"around")},undo:bz(function(){cm(this,"undo")}),redo:bz(function(){cm(this,"redo")}),setExtending:function(a){this.sel.extend=a},historySize:function(){var a=this.history;return{undo:a.done.length,redo:a.undone.length}},clearHistory:function(){this.history=ei()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return this.history.dirtyCounter==0},getHistory:function(){return{done:eo(this.history.done),undone:eo(this.history.undone)}},setHistory:function(a){var b=this.history=ei();b.done=a.done.slice(0),b.undone=a.undone.slice(0)},markText:function(a,b,c){return dg(this,cw(this,a),cw(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(b.nodeType==null?b.widget:b),insertLeft:b&&b.insertLeft};return a=cw(this,a),dg(this,a,a,c,"bookmark")},findMarksAt:function(a){a=cw(this,a);var b=[],c=ea(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(e.from==null||e.from<=a.ch)&&(e.to==null||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)c[d].from!=null&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;if(e>a)return b=a,!0;a-=e,++c}),cw(this,cr(c,b))},indexFromPos:function(a){a=cw(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new dX(ec(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;a.from!=null&&a.from>b&&(b=a.from),a.to!=null&&a.to<c&&(c=a.to);var d=new dX(ec(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],d},unlinkDoc:function(a){a instanceof x&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b){var c=this.linked[b];if(c.doc!=a)continue;this.linked.splice(b,1),a.unlinkDoc(this);break}if(a.history==this.history){var d=[a.id];d$(a,function(a){d.push(a.id)},!0),a.history=ei(),a.history.done=eo(this.history.done,d),a.history.undone=eo(this.history.undone,d)}},iterLinkedDocs:function(a){d$(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),dX.prototype.eachLine=dX.prototype.iter;var dY="iter insert remove copy getEditor".split(" ");for(var dZ in dX.prototype)dX.prototype.hasOwnProperty(dZ)&&eP(dY,dZ)<0&&(x.prototype[dZ]=function(a){return function(){return a.apply(this.doc,arguments)}}(dX.prototype[dZ]));x.e_stop=ew,x.e_preventDefault=eu,x.e_stopPropagation=ev;var eC,eD=0;x.on=ez,x.off=eA,x.signal=eB;var eH=30,eI=x.Pass={toString:function(){return"CodeMirror.Pass"}};eJ.prototype={set:function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)}},x.countColumn=eK;var eL=[""],eU=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,eX=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;x.replaceGetRect=function(a){fa=a};var fb=function(){if(e)return!1;var a=eY("div");return"draggable"in a||"dragDrop"in a}(),fc=/^$/;a?fc=/$'/:j?fc=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:h&&(fc=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var fd,ff,fh="\n\nb".split(/\n/).length!=3?function(a){var b=0,c=[],d=a.length;while(b<=d){var e=a.indexOf("\n",b);e==-1&&(e=a.length);var f=a.slice(b,a.charAt(e-1)=="\r"?e-1:e),g=f.indexOf("\r");g!=-1?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)};x.splitLines=fh;var fi=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:b.compareEndPoints("StartToEnd",b)!=0},fj=function(){var a=eY("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),fk={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};x.keyNames=fk,function(){for(var a=0;a<10;a++)fk[a+48]=String(a);for(var a=65;a<=90;a++)fk[a]=String.fromCharCode(a);for(var a=1;a<=12;a++)fk[a+111]=fk[a+63235]="F"+a}();var fu=function(){function c(c){return c<=255?a.charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1791?b.charAt(c-1536):1792<=c&&c<=2220?"r":"L"}var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%NNNNLNNNNN%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",b="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/,i="L";return function(a){if(!d.test(a))return!1;var b=a.length,j=[];for(var k=0,l;k<b;++k)j.push(l=c(a.charCodeAt(k)));for(var k=0,m=i;k<b;++k){var l=j[k];l=="m"?j[k]=m:m=l}for(var k=0,n=i;k<b;++k){var l=j[k];l=="1"&&n=="r"?j[k]="n":f.test(l)&&(n=l,l=="r"&&(j[k]="R"))}for(var k=1,m=j[0];k<b-1;++k){var l=j[k];l=="+"&&m=="1"&&j[k+1]=="1"?j[k]="1":l==","&&m==j[k+1]&&(m=="1"||m=="n")&&(j[k]=m),m=l}for(var k=0;k<b;++k){var l=j[k];if(l==",")j[k]="N";else if(l=="%"){for(var o=k+1;o<b&&j[o]=="%";++o);var p=k&&j[k-1]=="!"||o<b-1&&j[o]=="1"?"1":"N";for(var q=k;q<o;++q)j[q]=p;k=o-1}}for(var k=0,n=i;k<b;++k){var l=j[k];n=="L"&&l=="1"?j[k]="L":f.test(l)&&(n=l)}for(var k=0;k<b;++k)if(e.test(j[k])){for(var o=k+1;o<b&&e.test(j[o]);++o);var r=(k?j[k-1]:i)=="L",s=(o<b-1?j[o]:i)=="L",p=r||s?"L":"R";for(var q=k;q<o;++q)j[q]=p;k=o-1}var t=[],u;for(var k=0;k<b;)if(g.test(j[k])){var v=k;for(++k;k<b&&g.test(j[k]);++k);t.push({from:v,to:k,level:0})}else{var w=k,x=t.length;for(++k;k<b&&j[k]!="L";++k);for(var q=w;q<k;)if(h.test(j[q])){w<q&&t.splice(x,0,{from:w,to:q,level:1});var y=q;for(++q;q<k&&h.test(j[q]);++q);t.splice(x,0,{from:y,to:q,level:2}),w=q}else++q;w<k&&t.splice(x,0,{from:w,to:k,level:1})}return t[0].level==1&&(u=a.match(/^\s+/))&&(t[0].from=u[0].length,t.unshift({from:0,to:u[0].length,level:0})),eN(t).level==1&&(u=a.match(/\s+$/))&&(eN(t).to-=u[0].length,t.push({from:b-u[0].length,to:b,level:0})),t[0].level!=eN(t).level&&t.push({from:b,to:b,level:t[0].level}),t}}();x.version="3.1 +",typeof b!="undefined"&&(b.exports=x),typeof window!="undefined"&&(window.CodeMirror=x)})()}),require.define("/js/javascript.js",function(a,b,c,d,e,f,g){b.exports=function(a){a.defineMode("javascript",function(b,c){function i(a,b,c){return b.tokenize=c,c(a,b)}function j(a,b){var c=!1,d;while((d=a.next())!=null){if(d==b&&!c)return!1;c=!c&&d=="\\"}return c}function m(a,b,c){return k=a,l=c,b}function n(a,b){var c=a.next();if(c=='"'||c=="'")return i(a,b,o(c));if(/[\[\]{}\(\),;\:\.]/.test(c))return m(c);if(c=="0"&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),m("number","number");if(/\d/.test(c)||c=="-"&&a.eat(/\d/))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),m("number","number");if(c=="/")return a.eat("*")?i(a,b,p):a.eat("/")?(a.skipToEnd(),m("comment","comment")):b.lastType=="operator"||b.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(b.lastType)?(j(a,"/"),a.eatWhile(/[gimy]/),m("regexp","string-2")):(a.eatWhile(h),m("operator",null,a.current()));if(c=="#")return a.skipToEnd(),m("error","error");if(h.test(c))return a.eatWhile(h),m("operator",null,a.current());a.eatWhile(/[\w\$_]/);var d=a.current(),e=g.propertyIsEnumerable(d)&&g[d];return e&&b.lastType!="."?m(e.type,e.style,d):m("variable","variable",d)}function o(a){return function(b,c){return j(b,a)||(c.tokenize=n),m("string","string")}}function p(a,b){var c=!1,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=n;break}c=d=="*"}return m("comment","comment")}function r(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,d!=null&&(this.align=d)}function s(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function t(a,b,c,d,f){var g=a.cc;u.state=a,u.stream=f,u.marked=null,u.cc=g,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);for(;;){var h=g.length?g.pop():e?F:E;if(h(c,d)){while(g.length&&g[g.length-1].lex)g.pop()();return u.marked?u.marked:c=="variable"&&s(a,d)?"variable-2":b}}}function v(){for(var a=arguments.length-1;a>=0;a--)u.cc.push(arguments[a])}function w(){return v.apply(null,arguments),!0}function x(a){function b(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var c=u.state;if(c.context){u.marked="def";if(b(c.localVars))return;c.localVars={name:a,next:c.localVars}}else{if(b(c.globalVars))return;c.globalVars={name:a,next:c.globalVars}}}function z(){u.state.context={prev:u.state.context,vars:u.state.localVars},u.state.localVars=y}function A(){u.state.localVars=u.state.context.vars,u.state.context=u.state.context.prev}function B(a,b){var c=function(){var c=u.state;c.lexical=new r(c.indented,u.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function C(){var a=u.state;a.lexical.prev&&(a.lexical.type==")"&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function D(a){return function(b){return b==a?w():a==";"?v():w(arguments.callee)}}function E(a){return a=="var"?w(B("vardef"),P,D(";"),C):a=="keyword a"?w(B("form"),F,E,C):a=="keyword b"?w(B("form"),E,C):a=="{"?w(B("}"),M,C):a==";"?w():a=="function"?w(V):a=="for"?w(B("form"),D("("),B(")"),R,D(")"),C,E,C):a=="variable"?w(B("stat"),I):a=="switch"?w(B("form"),F,B("}","switch"),D("{"),M,C,C):a=="case"?w(F,D(":")):a=="default"?w(D(":")):a=="catch"?w(B("form"),z,D("("),W,D(")"),E,C,A):v(B("stat"),F,D(";"),C)}function F(a){return q.hasOwnProperty(a)?w(H):a=="function"?w(V):a=="keyword c"?w(G):a=="("?w(B(")"),G,D(")"),C,H):a=="operator"?w(F):a=="["?w(B("]"),L(F,"]"),C,H):a=="{"?w(B("}"),L(K,"}"),C,H):w()}function G(a){return a.match(/[;\}\)\],]/)?v():v(F)}function H(a,b){if(a=="operator")return/\+\+|--/.test(b)?w(H):b=="?"?w(F,D(":"),F):w(F);if(a==";")return;if(a=="(")return w(B(")"),L(F,")"),C,H);if(a==".")return w(J,H);if(a=="[")return w(B("]"),F,D("]"),C,H)}function I(a){return a==":"?w(C,E):v(H,D(";"),C)}function J(a){if(a=="variable")return u.marked="property",w()}function K(a){if(a=="variable")u.marked="property";else if(a=="number"||a=="string")u.marked=a+" property";if(q.hasOwnProperty(a))return w(D(":"),F)}function L(a,b){function c(d){return d==","?w(a,c):d==b?w():w(D(b))}return function(d){return d==b?w():v(a,c)}}function M(a){return a=="}"?w():v(E,M)}function N(a){return a==":"?w(O):v()}function O(a){return a=="variable"?(u.marked="variable-3",w()):v()}function P(a,b){return a=="variable"?(x(b),f?w(N,Q):w(Q)):v()}function Q(a,b){if(b=="=")return w(F,Q);if(a==",")return w(P)}function R(a){return a=="var"?w(P,D(";"),T):a==";"?w(T):a=="variable"?w(S):w(T)}function S(a,b){return b=="in"?w(F):w(H,T)}function T(a,b){return a==";"?w(U):b=="in"?w(F):w(F,D(";"),U)}function U(a){a!=")"&&w(F)}function V(a,b){if(a=="variable")return x(b),w(V);if(a=="(")return w(B(")"),z,L(W,")"),C,E,A)}function W(a,b){if(a=="variable")return x(b),f?w(N):w()}var d=b.indentUnit,e=c.json,f=c.typescript,g=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),g={type:"atom",style:"atom"},h={"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":g,"false":g,"null":g,"undefined":g,NaN:g,Infinity:g};if(f){var i={type:"variable",style:"variable-3"},j={"interface":a("interface"),"class":a("class"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),"super":a("super"),string:i,number:i,bool:i,any:i};for(var k in j)h[k]=j[k]}return h}(),h=/[+\-*&%=<>!?|~^]/,k,l,q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},u={state:null,column:null,marked:null,cc:null},y={name:"this",next:{name:"arguments"}};return C.lex=!0,{startState:function(a){return{tokenize:n,lastType:null,cc:[],lexical:new r((a||0)-d,0,"block",!1),localVars:c.localVars,globalVars:c.globalVars,context:c.localVars&&{vars:c.localVars},indented:0}},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);return k=="comment"?c:(b.lastType=k,t(b,c,k,l,a))},indent:function(b,c){if(b.tokenize==p)return a.Pass;if(b.tokenize!=n)return 0;var e=c&&c.charAt(0),f=b.lexical;f.type=="stat"&&e=="}"&&(f=f.prev);var g=f.type,h=e==g;return g=="vardef"?f.indented+(b.lastType=="operator"||b.lastType==","?4:0):g=="form"&&e=="{"?f.indented:g=="form"?f.indented+d:g=="stat"?f.indented+(b.lastType=="operator"||b.lastType==","?d:0):f.info=="switch"&&!h?f.indented+(/^(?:case|default)\b/.test(c)?d:2*d):f.align?f.column+(h?0:1):f.indented+(h?0:d)},electricChars:":{}",jsonMode:e}}),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})}}),require.define("/js/site.js",function(a,b,c,d,e,f,g){var h=a("../"),i=h(document.getElementById("wrap"));window.location.hash?i.gist(window.location.hash.substring(1)):i.content('"hello, world"; // edit this to begin'),window.onhashchange=function(){i.gist(window.location.hash.substring(1))}}),require("/js/site.js")})();